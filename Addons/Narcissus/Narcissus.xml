<Ui xsi:schemaLocation="http://www.blizzard.com/wow/ui/..\FrameXML\UI.xsd">
    <Script file="Main.lua"/>

	<EditBox name="NarciEditBoxHideTooltipTemplate" virtual="true" inherits="NarciEditBoxTemplate">
		<Scripts>
			<OnEditFocusGained>
				Narci:HideButtonTooltip();
				Narci.UserIsInputing = true;
			</OnEditFocusGained>
		</Scripts>		
	</EditBox>

	<DressUpModel name="ModelPieceTemplate" virtual="true">
		<Anchors>
			<Anchor point="TOPLEFT" relativeKey="$parent.$parent.FigureModelReference" relativePoint="TOPLEFT" x="-2" y="14"/>
			<Anchor point="BOTTOMRIGHT" relativeKey="$parent.$parent.FigureModelReference" relativePoint="BOTTOMRIGHT" x="-2" y="14"/>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture setAllPoints="true" parentKey="Color">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
					<Color r="1" g="0" b="0" a="0"/>
				</Texture>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self:SetUnit("player");
				local frame = self:GetParent():GetParent();
				if not frame.Pieces then
					frame.Pieces = {};
				end
				tinsert(frame.Pieces, self);
			</OnLoad>
			<!--OnShow function="Narci_PortraitPieces_OnLoad"/-->
		</Scripts>
	</DressUpModel>

	<Frame name="ModelPieceFrameTemplate" clipChildren="true" virtual="true" frameLevel="2">
		<Frames>
			<DressUpModel inherits="ModelPieceTemplate"/>
		</Frames>
	</Frame>

	<!--Frame name="ModelPieceFrame" clipChildren="true" hidden="false">
		<Anchors>
			<Anchor point="CENTER" x="0" y="-100"/>
		</Anchors>
		<Size x="100" y="100"/>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture setAllPoints="true" parentKey="Color">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
					<Color r="1" g="0" b="0" a="0.5"/>
					<Anchors>
						<Anchor point="CENTER" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<DressUpModel parent="Test1" virtual="false">
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPLEFT"/>
					<Anchor point="BOTTOMRIGHT" relativeKey="$parent" relativePoint="BOTTOMRIGHT"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture setAllPoints="true" parentKey="Color">
							<Anchors>
								<Anchor point="TOPLEFT" x="0" y="0"/>
								<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
							</Anchors>
							<Color r="0" g="0" b="0" a="0"/>
							<Anchors>
								<Anchor point="CENTER" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						Narci_PortraitPieces_OnLoad(self)
					</OnLoad>
				</Scripts>
			</DressUpModel>
		</Frames>
	</Frame-->


	<Button name="WidgetButtonTemplate" virtual="true">
		<Anchors>
			<Anchor point="CENTER" x="0" y="0"/>
		</Anchors>
		<Layers>
			<Layer level="OVERLAY" textureSubLevel="6">
				<FontString inherits="NarciFontMedium12" justifyH="LEFT" justifyV="MIDDLE" parentKey="Label" text="Token">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="10" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="3">
				<Texture setAllPoints="true" parentKey="Color" hidden="true">
					<Anchors>
						<Anchor point="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
					<Color r="1" g="1" b="1" a="0.6"/>
					<Anchors>
						<Anchor point="CENTER" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="1">
				<Texture setAllPoints="true" parentKey="Background" hidden="false" >
					<Anchors>
						<Anchor point="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
					<Color r="0" g="0" b="0" a="0.9"/>
					<Anchors>
						<Anchor point="CENTER" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
        <Frames>
            <Frame inherits="NarciClickFeedbackTemplate"/>
        </Frames>
		<Scripts>
			<OnEnter>
				self.Color:Show();
			</OnEnter>
			<OnLeave>
				self.Color:Hide();
			</OnLeave>
		</Scripts>
	</Button>
	
	<Button name="NarciEmoteTokenButtonTemplate" inherits="WidgetButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="80" y="20"/>
		</Size>
		<Layers>
			<Layer level="OVERLAY" textureSubLevel="3">
				<Texture setAllPoints="true" parentKey="HighlightColor" hidden="true" Alpha="0.5">
					<Anchors>
						<Anchor point="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
					<Color r="0" g="0" b="0" a="0.5"/>
				</Texture>
			</Layer>
		</Layers>
		<Scripts>
			<OnShow function="Narci_SetButtonColor"/>
			<OnClick function="Narci_EmoteTokenButton_OnClick"/>
		</Scripts>
	</Button>

	<Button name="NarciXmogModeButtonTemplate" inherits="WidgetButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="150" y="20"/>
		</Size>
		<Layers>
			<Layer level="OVERLAY" textureSubLevel="3">
				<FontString inherits="NarciFontMedium12" justifyH="RIGHT" justifyV="MIDDLE" parentKey="Option">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="RIGHT" relativeKey="$parent" relativePoint="RIGHT" x="-10" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnShow function="XmogButtonPopUp_OnShow"/>
			<OnLoad>
				self.IsOn = false;
			</OnLoad>
			<OnClick>

			</OnClick>
		</Scripts>
	</Button>

	<Button name="CodeTokenButtonTemplate" inherits="WidgetButtonTemplate" virtual="true">
		<Size>
			<AbsDimension y="20"/>
		</Size>
		<Layers>
			<Layer level="OVERLAY" textureSubLevel="4">
				<FontString inherits="NarciFontMedium12" justifyH="RIGHT" justifyV="MIDDLE" parentKey="Option">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="RIGHT" relativeKey="$parent" relativePoint="RIGHT" x="-10" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="3">
				<Texture setAllPoints="true" parentKey="HighlightColor" hidden="true" Alpha="0.5">
					<Anchors>
						<Anchor point="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
					<Color r="0" g="0" b="0" a="0.5"/>
				</Texture>
			</Layer>
		</Layers>
		<Scripts>
			<OnShow function="Narci_SetButtonColor"/>
			<OnLoad>
				local parent = self:GetParent();
				if not parent.buttons then
					parent.buttons = {};
				end
				tinsert(parent.buttons, self);
			</OnLoad>
			<OnClick function="Narci_CodeTokenButton_OnClick"/>
		</Scripts>
	</Button>

	<Button name="WebsiteButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="20" y="20"/>
		</Size>
		<NormalTexture file="Interface\AddOns\Narcissus\Art\Logos\Wowhead" parentKey="NormalTex">
			<TexCoords left="0" right="0.5" top="0" bottom="1"/>
			<Size x="16" y="16"/>
			<Anchors>
				<Anchor point="CENTER" x="0"/>
			</Anchors>
		</NormalTexture>
		<PushedTexture file="Interface\AddOns\Narcissus\Art\Logos\Wowhead" parentKey="PushedTex">
			<TexCoords left="0.5" right="1" top="0" bottom="1"/>
			<Size x="14" y="14"/>
			<Anchors>
				<Anchor point="CENTER" x="0"/>
			</Anchors>
		</PushedTexture>
		<Layers>		
			<Layer level="OVERLAY" textureSubLevel="5">
				<Texture setAllPoints="true" parentKey="HighlightColor" hidden="true" Alpha="0.5">
					<Anchors>
						<Anchor point="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
					<Color r="1" g="1" b="1" a="1"/>
				</Texture>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad function="Narci_WebsiteButton_OnLoad"/>
			<OnEnter>
				--self.HighlightColor:Show();
				self.NormalTex:SetTexCoord(0.5, 1, 0, 1);
				self.PushedTex:SetTexCoord(0.5, 1, 0, 1);
			</OnEnter>
			<OnLeave>
				--self.HighlightColor:Hide();
				if not self.IsOn then
					self.NormalTex:SetTexCoord(0, 0.5, 0, 1);
					self.PushedTex:SetTexCoord(0, 0.5, 0, 1);
				end
			</OnLeave>
			<OnClick function="WebsiteButton_OnClick"/>
		</Scripts>
	</Button>

	<Button name="CheckboxButtonTemplate" inherits="WidgetButtonTemplate" virtual="true">
		<Size>
			<AbsDimension y="20"/>
		</Size>
		<Layers>
			<Layer level="OVERLAY" textureSubLevel="4">
				<FontString inherits="NarciFontMedium12" justifyH="RIGHT" justifyV="MIDDLE" parentKey="Checker Button">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="RIGHT" relativeKey="$parent" relativePoint="RIGHT" x="-10" y="0"/>
					</Anchors>
				</FontString>
				<Texture file="Interface\AddOns\Narcissus\Art\Widgets\Arrows\Tick" parentKey="Tick" hidden="true">
					<Size x="12" y="12"/>
					<Anchors>
						<Anchor point="RIGHT" x="-10"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="3">
				<Texture setAllPoints="true" parentKey="HighlightColor" hidden="true" Alpha="0.5">
					<Anchors>
						<Anchor point="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
					<Color r="0" g="0" b="0" a="0.5"/>
				</Texture>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self.Background:SetColorTexture(0.06, 0.06, 0.06, 0.8)
				self.IsOn = false;
			</OnLoad>
			<OnShow function="Narci_SetButtonColor"/>
		</Scripts>
	</Button>
	
	<Frame name="Narci_CooldownFrameTemplate" virtual="true">
		<Size x="64" y="64"/>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<Frames>
		<Frame parentKey="CooldownBlip" hidden="true" Alpha="0" ignoreParentAlpha="true">
			<Size x="64" y="64"/>
			<Anchors>
				<Anchor point="CENTER"/>
			</Anchors>
			<Layers>
				<Layer level="OVERLAY" textureSubLevel="6">
					<Texture parentKey="Highlight" hidden="false" file="Interface\AddOns\Narcissus\Art\Solid\HexagonSolid-Highlight" alphaMode="ADD" Alpha="1">
						<Size x="52" y="52"/>
						<Anchors>
							<Anchor point="CENTER" relativeKey="$parent" x="0" y="0"/>
						</Anchors>
					</Texture>
				</Layer>
			</Layers>
			<Animations>
				<AnimationGroup parentKey="Bling" looping="REPEAT" smoothing="IN_OUT">
					<Alpha fromAlpha="1" toAlpha="1" duration="0.1" order="1"/>
					<Alpha fromAlpha="1" toAlpha="0" duration="0.85" order="2"/>
					<Alpha fromAlpha="0" toAlpha="0" duration="0.05" order="3"/>
					<Scripts>
						<OnPause>
							self:GetParent():SetAlpha(0);
						</OnPause>
						<OnStop>
							self:GetParent():SetAlpha(0);
						</OnStop>
					</Scripts>
				</AnimationGroup>
			</Animations>
			<Scripts>
				<OnShow>
					--self.Highlight:Show();
					--self.Highlight.Bling:Play()
				</OnShow>
			</Scripts>
		</Frame>
		<Frame parentKey="CooldownBorder" hidden="true">
			<Size x="64" y="64"/>
			<Anchors>
				<Anchor point="CENTER"/>
			</Anchors>
			<Layers>
				<Layer level="OVERLAY" textureSubLevel="20">
					<Texture file="Interface\AddOns\Narcissus\Art\Cooldown\Cooldown-Border" parentKey="CooldownBorder"/>
				</Layer>
			</Layers>
		</Frame>
		<Cooldown parentKey="Cooldown" setAllPoints="false" hidden="true" virtual="false">
			<Size x="64" y="64"/>
			<Anchors>
				<Anchor point="CENTER"/>
			</Anchors>	
			<SwipeTexture file="Interface\AddOns\Narcissus\Art\Cooldown\Cooldown-Fluid">
				<Size x="64" y="64"/>
				<Anchors>
					<Anchor point="CENTER"/>
				</Anchors>
			</SwipeTexture>
			<Scripts>
				<OnShow>
					local Border = self:GetParent().CooldownBlip;
					UIFrameFadeIn(self:GetParent().CooldownBorder, 0.25, 0, 1);
					Border:Show();
					C_Timer.After(0, function()
						
						Border.Bling:Play();
					end)
				</OnShow>
				<OnHide>
					self:GetParent():StopAnimating();
					self:GetParent().CooldownBlip:Hide();
					UIFrameFadeOut(self:GetParent().CooldownBorder, 0.4, 1, 0)
				</OnHide>
			</Scripts>
		</Cooldown>
		</Frames>
	</Frame>

	<Texture name="ArrowHorizontal" file="Interface\AddOns\Narcissus\Art\Widgets\Arrows\Arrow-H" virtual="true">
		<Size x="12" y="12"/>
		<Anchors>
			<Anchor point="RIGHT" relativeKey="$parent" relativePoint="RIGHT" x="-10" y="0"/>
		</Anchors>
	</Texture>

	<Texture name="RectTopLeftCorner" file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Border" virtual="true">
		<TexCoords left="0.8828125" right="1" top="0" bottom="0.1171875"/>
		<Size x="21" y="21"/>
		<Anchors>
			<Anchor point="CENTER" relativeKey="$parent" relativePoint="TOPLEFT" x="4" y="-4"/>
		</Anchors>
	</Texture>

	<Texture name="RectTopRightCorner" file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Border" virtual="true">
		<TexCoords left="1" right="0.8828125" top="0" bottom="0.1171875"/>
		<Size x="21" y="21"/>
		<Anchors>
			<Anchor point="CENTER" relativeKey="$parent" relativePoint="TOPRIGHT" x="-4" y="-4"/>
		</Anchors>
	</Texture>

	<Texture name="RectBottomLeftCorner" file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Border" virtual="true">
		<TexCoords left="0.8828125" right="1" top="0.1171875" bottom="0"/>
		<Size x="21" y="21"/>
		<Anchors>
			<Anchor point="CENTER" relativeKey="$parent" relativePoint="BOTTOMLEFT" x="4" y="4"/>
		</Anchors>
	</Texture>

	<Texture name="RectBottomRightCorner" file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Border" virtual="true">
		<TexCoords left="1" right="0.8828125" top="0.1171875" bottom="0"/>
		<Size x="21" y="21"/>
		<Anchors>
			<Anchor point="CENTER" relativeKey="$parent" relativePoint="BOTTOMRIGHT" x="-4" y="4"/>
		</Anchors>
	</Texture>

	<Frame name="Narci_RadarTemplate" virtual="true">
		<Size>
			<AbsDimension x="96" y="96"/>
		</Size>
		<Layers>
			<Layer level="OVERLAY">
				<Texture file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Border" hidden="false">
					<TexCoords left="0.94921875" right="1" top="0.890625" bottom="1"/>
					<Size>
						<AbsDimension x="9" y="96"/>
					</Size>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent" relativePoint="LEFT" x="-2" y="0"/>
					</Anchors>
				</Texture>
				<Texture file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Border" hidden="false">
					<TexCoords left="0.94921875" right="1" top="0.890625" bottom="1"/>
					<Size>
						<AbsDimension x="9" y="96"/>
					</Size>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent" relativePoint="RIGHT" x="2" y="0"/>
					</Anchors>
				</Texture>
				<Texture file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Border"  hidden="false">
					<TexCoords left="0" right="0.87890625" top="0.94921875" bottom="1"/>
					<Size x="96" y="9"/>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent" relativePoint="TOP" x="0" y="2"/>
					</Anchors>
				</Texture>
				<Texture file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Border"  hidden="false">
					<TexCoords left="0.87890625" right="0" top="1" bottom="0.94921875"/>
					<Size x="96" y="9"/>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent" relativePoint="BOTTOM" x="0" y="-2"/>
					</Anchors>
				</Texture>
				<Texture inherits="RectTopLeftCorner" hidden="false"/>
				<Texture inherits="RectTopRightCorner" hidden="false"/>
				<Texture inherits="RectBottomLeftCorner" hidden="false"/>
				<Texture inherits="RectBottomRightCorner" hidden="false"/>
			</Layer>
		</Layers>
	</Frame>

	<Frame name="Narci_AttributeTemplate" virtual="true">
		<Size>
			<AbsDimension x="250" y="24"/>
		</Size>
		<Layers>
			<Layer level="OVERLAY">
				<Texture setAllPoints="true" parentKey="Color1">
					<Size x="124.5" y="24" />
					<Color r="0.06" g="0.627" b="0.537" a="1"/>
					<Anchors>
						<Anchor point="RIGHT" relativeKey="$parent" relativePoint="CENTER"  x="0" y="0"/>
					</Anchors>
					<Gradient orientation="HORIZONTAL">
						<MinColor a="1" r="1" g="1" b="1"/>
						<MaxColor a="1" r="0.6" g="0.6" b="0.6"/>
					</Gradient>
				</Texture>
				<Texture setAllPoints="true" parentKey="Color2">
					<Size x="124.5" y="24" />
					<Color r="0.06" g="0.627" b="0.537" a="1"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent" relativePoint="CENTER"  x="0" y="0"/>
					</Anchors>
					<Gradient orientation="HORIZONTAL">
						<MinColor a="1" r="0.45" g="0.45" b="0.45"/>
						<MaxColor a="1" r="0.85" g="0.85" b="0.85"/>
					</Gradient>
				</Texture>

				<FontString inherits="NarciFontMedium12" justifyH="LEFT" justifyV="MIDDLE" parentKey="Label" text="Label">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent.GL" relativePoint="LEFT" x="15" y="0"/>
					</Anchors>
				</FontString>

				<FontString inherits="NarciFontStatusNumber" justifyH="RIGHT" justifyV="MIDDLE" parentKey="Value" text="1208">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="RIGHT" relativeKey="$parent.GR" relativePoint="RIGHT" x="-15" y="0"/>
					</Anchors>
				</FontString>

				<FontString inherits="NarciFontStatusNumber" justifyH="RIGHT" justifyV="MIDDLE" parentKey="ValueRating" text="1208" hidden="true">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="RIGHT" relativeKey="$parent.Color" relativePoint="RIGHT" x="-10" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Animations>
			<AnimationGroup parentKey="animIn" smoothing="OUT">
				<Alpha parentKey="A1" fromAlpha="0" toAlpha="0" duration="0.2" order="1"/>
				<Alpha parentKey="A2" fromAlpha="0" toAlpha="1" duration="0.4" order="2"/>
				<Scripts>
					<OnPlay>
					</OnPlay>
					<OnFinished>
					</OnFinished>
				</Scripts>
			</AnimationGroup>
		</Animations>
        <Scripts>
            <OnLoad>
				Narci_AttributeFrame_OnLoad(self);
				local delay = (self:GetID())/20;
				self.animIn.A2:SetStartDelay(delay);
			</OnLoad>
			<OnEnter>
				Narci_ShowStatTooltip(self);
			</OnEnter>
			<OnShow function="Pref_SetBackgroundColor"/>
			<OnLeave>
				Narci:HideButtonTooltip();
			</OnLeave>
        </Scripts>
	</Frame>

	<Frame name="Narci_DetailedAttributeTemplate" virtual="true">
		<Size>
			<AbsDimension x="160" y="24"/>
		</Size>
		<Layers>
			<Layer level="OVERLAY">
				<FontString inherits="NarciFontMedium12" justifyH="LEFT" justifyV="MIDDLE" parentKey="Label" text="Label">
					<Size x="90" y="0"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="10" y="0"/>
					</Anchors>
				</FontString>

				<FontString inherits="NarciFontStatusNumber" justifyH="RIGHT" justifyV="MIDDLE" parentKey="Value" text="1208">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="RIGHT" relativeKey="$parent" relativePoint="RIGHT" x="-10" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Animations>
			<AnimationGroup parentKey="animIn" smoothing="OUT">
				<Alpha parentKey="A1" fromAlpha="0" toAlpha="0" duration="0.2" order="1"/>
				<Alpha parentKey="A2" fromAlpha="0" toAlpha="1" duration="0.4" order="2"/>
				<Scripts>
					<OnPlay>
						--self:GetParent():Show()
					</OnPlay>
					<OnFinished>
					</OnFinished>
				</Scripts>
			</AnimationGroup>
		</Animations>
        <Scripts>
            <OnLoad>
				Narci_AttributeFrame_OnLoad(self);
				local delay = (self:GetID())/20;
				self.animIn.A2:SetStartDelay(delay);
			</OnLoad>
			<OnEnter>
				Narci_ShowStatTooltip(self);
			</OnEnter>
			<OnLeave>
				Narci:HideButtonTooltip();
			</OnLeave>
			<OnShow function="Pref_SetBackgroundColor"/>
        </Scripts>
	</Frame>

	<Frame name="Narci_DetailedAttributeTemplateShortLeft" virtual="true" frameLevel="9">
		<Size>
			<AbsDimension x="112" y="48"/>
		</Size>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture setAllPoints="true" parentKey="Black">
					<Size x="112" y="24"/>
					<Color r="0.1" g="0.1" b="0.1" a="0.75"/>
					<Anchors>
						<Anchor point="TOP" relativeKey="$parent" relativePoint="TOP"  x="0" y="0"/>
					</Anchors>
					<Gradient orientation="HORIZONTAL">
						<MinColor a="1" r="1" g="1" b="1"/>
						<MaxColor a="1" r="0.6" g="0.6" b="0.6"/>
					</Gradient>
				</Texture>
				<Texture setAllPoints="true" parentKey="Color">
					<Size x="112" y="24"/>
					<Color r="0.06" g="0.627" b="0.537" a="1"/>
					<Anchors>
						<Anchor point="BOTTOM" relativeKey="$parent" relativePoint="BOTTOM"  x="0" y="0"/>
					</Anchors>
					<Gradient orientation="HORIZONTAL">
						<MinColor a="1" r="1" g="1" b="1"/>
						<MaxColor a="1" r="0.6" g="0.6" b="0.6"/>
					</Gradient>
				</Texture>
			</Layer>

			<Layer level="OVERLAY">
				<FontString inherits="NarciFontMedium12" justifyH="CENTER" justifyV="MIDDLE" parentKey="Label" text="Label">
					<Size x="92" y="0"/>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent.Black" relativePoint="CENTER" x="-1" y="0"/>  <!--Compensate for Radar's Border-->
					</Anchors>
				</FontString>

				<FontString inherits="NarciFontStatusNumber" justifyH="LEFT" justifyV="MIDDLE" parentKey="Value" text="12.08%">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent.Color" relativePoint="LEFT" x="10" y="0"/>
					</Anchors>
				</FontString>

				<FontString inherits="NarciFontStatusNumber" justifyH="RIGHT" justifyV="MIDDLE" parentKey="ValueRating" text="1208">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="RIGHT" relativeKey="$parent.Color" relativePoint="RIGHT" x="-11" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<!--Animations>
			<AnimationGroup parentKey="animIn" smoothing="OUT">
				<Alpha parentKey="A1" fromAlpha="0" toAlpha="0" duration="0.2" order="1"/>
				<Alpha parentKey="A2" fromAlpha="0" toAlpha="1" duration="0.4" order="2"/>
				<Scripts>
					<OnPlay>

					</OnPlay>
					<OnFinished>
					</OnFinished>
				</Scripts>
			</AnimationGroup>
		</Animations-->
        <Scripts>
            <OnLoad>
				Narci_AttributeFrame_OnLoad(self);
			</OnLoad>
			<OnEnter>
				Narci_ShowStatTooltip(self);
				self:GetParent():SetVertexSize(self, 15);
			</OnEnter>
			<OnLeave>
				Narci:HideButtonTooltip();
				self:GetParent():SetVertexSize(self, 12);
			</OnLeave>
			<OnShow function="Pref_SetBackgroundColor"/>
        </Scripts>
	</Frame>

	<Frame name="Narci_DetailedAttributeTemplateShortRight" virtual="true" frameLevel="9">
		<Size>
			<AbsDimension x="112" y="48"/>
		</Size>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture setAllPoints="true" parentKey="Black">
					<Size x="112" y="24"/>
					<Color r="0.1" g="0.1" b="0.1" a="0.75"/>
					<Anchors>
						<Anchor point="TOP" relativeKey="$parent" relativePoint="TOP"  x="0" y="0"/>
					</Anchors>
					<Gradient orientation="HORIZONTAL">
						<MinColor a="1" r="0.45" g="0.45" b="0.45"/>
						<MaxColor a="1" r="0.85" g="0.85" b="0.85"/>
					</Gradient>
				</Texture>
				<Texture setAllPoints="true" parentKey="Color">
					<Size x="112" y="24" />
					<Color r="0.06" g="0.627" b="0.537" a="1"/>
					<Anchors>
						<Anchor point="BOTTOM" relativeKey="$parent" relativePoint="BOTTOM"  x="0" y="0"/>
					</Anchors>
					<Gradient orientation="HORIZONTAL">
						<MinColor a="1" r="0.45" g="0.45" b="0.45"/>
						<MaxColor a="1" r="0.85" g="0.85" b="0.85"/>
					</Gradient>
				</Texture>
			</Layer>

			<Layer level="OVERLAY">
				<FontString inherits="NarciFontMedium12" justifyH="CENTER" justifyV="MIDDLE" parentKey="Label" text="Label">
					<Size x="92" y="0"/>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent.Black" relativePoint="CENTER" x="1" y="0"/>
					</Anchors>
				</FontString>

				<FontString inherits="NarciFontStatusNumber" justifyH="LEFT" justifyV="MIDDLE" parentKey="Value" text="12.08%">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent.Color" relativePoint="LEFT" x="11" y="0"/>
					</Anchors>
				</FontString>

				<FontString inherits="NarciFontStatusNumber" justifyH="RIGHT" justifyV="MIDDLE" parentKey="ValueRating" text="1208">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="RIGHT" relativeKey="$parent.Color" relativePoint="RIGHT" x="-10" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<!--Animations>
			<AnimationGroup parentKey="animIn" smoothing="OUT">
				<Alpha parentKey="A1" fromAlpha="0" toAlpha="0" duration="0.2" order="1"/>
				<Alpha parentKey="A2" fromAlpha="0" toAlpha="1" duration="0.4" order="2"/>
				<Scripts>
					<OnPlay>

					</OnPlay>
					<OnFinished>
					</OnFinished>
				</Scripts>
			</AnimationGroup>
		</Animations-->
        <Scripts>
            <OnLoad>
				Narci_AttributeFrame_OnLoad(self);
			</OnLoad>
			<OnEnter>
				Narci_ShowStatTooltip(self);
				self:GetParent():SetVertexSize(self, 15);
			</OnEnter>
			<OnLeave>
				Narci:HideButtonTooltip();
				self:GetParent():SetVertexSize(self, 12);
			</OnLeave>
			<OnShow function="Pref_SetBackgroundColor"/>
        </Scripts>
	</Frame>

	<Frame name="Narci_DetailedAttributeTemplateLeft" inherits="Narci_DetailedAttributeTemplate" virtual="true">
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture setAllPoints="true" parentKey="Color">
					<Size x="160" y="24"/>
					<Color r="0.06" g="0.627" b="0.537" a="1"/>
					<Anchors>
						<Anchor point="RIGHT" relativeKey="$parent" relativePoint="RIGHT"  x="0" y="0"/>
					</Anchors>
					<Gradient orientation="HORIZONTAL">
						<MinColor a="1" r="1" g="1" b="1"/>
						<MaxColor a="1" r="0.6" g="0.6" b="0.6"/>
					</Gradient>
				</Texture>
			</Layer>
		</Layers>
	</Frame>

	<Frame name="Narci_DetailedAttributeTemplateRight" inherits="Narci_DetailedAttributeTemplate" virtual="true">
		<Anchors>
			<Anchor point="CENTER" x="160"/>
		</Anchors>
		<Size>
			<AbsDimension x="160" y="24"/>
		</Size>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture setAllPoints="true" parentKey="Color">
					<Size x="160" y="24" />
					<Color r="0.06" g="0.627" b="0.537" a="1"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT"  x="0" y="0"/>
					</Anchors>
					<Gradient orientation="HORIZONTAL">
						<MinColor a="1" r="0.45" g="0.45" b="0.45"/>
						<MaxColor a="1" r="0.85" g="0.85" b="0.85"/>
					</Gradient>
				</Texture>
			</Layer>
		</Layers>
		<Animations>
			<AnimationGroup parentKey="animIn" smoothing="OUT">
				<Alpha parentKey="A1" fromAlpha="0" toAlpha="0" duration="0.2" order="1"/>
				<Alpha parentKey="A2" fromAlpha="0" toAlpha="1" duration="0.4" order="2"/>
				<Scripts>
					<OnPlay>
						--self:GetParent():Show()
					</OnPlay>
					<OnFinished>
					</OnFinished>
				</Scripts>
			</AnimationGroup>
		</Animations>
        <Scripts>
            <OnLoad>
				Narci_AttributeFrame_OnLoad(self);
				local delay = (self:GetID())/20;
				self.animIn.A2:SetStartDelay(delay);
			</OnLoad>
			<OnEnter>
				Narci_ShowStatTooltip(self);
			</OnEnter>
			<OnLeave>
				Narci:HideButtonTooltip();
			</OnLeave>
        </Scripts>
	</Frame>

	<Button name="NarciRuneSlotTemplate" parentKey="RuneSlot" frameLevel="6" hidden="true" virtual="true">
		<Scripts>
			<OnEnter function="Narci_RuneButton_OnEnter"/>
			<OnLeave>
				Narci:HideButtonTooltip();
			</OnLeave>
		</Scripts>
	</Button>

	<Button name="NarciRuneSlotLeftTemplate" inherits="NarciRuneSlotTemplate" frameLevel="6" virtual="true">
		<Size x="30" y="30"/>
		<HitRectInsets>
			<AbsInset left="4" right="10" top="-2" bottom="-2"/>
		</HitRectInsets>
		<Layers>
			<Layer level="OVERLAY" textureSubLevel="3">
				<Texture parentKey="Background" hidden="false" file="Interface\AddOns\Narcissus\Art\Runes\RunePlate-Epic" Alpha="0">
					<TexCoords left="1" right="0" top="0" bottom="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="4">
				<FontString inherits="NarciRuneFont" parentKey="RuneLetter" Alpha="0.6" hidden="true">
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent.$parent.Border" relativePoint="LEFT" x="6" y="0"/>
					</Anchors>
					<Shadow>
						<Offset>
							<AbsDimension x="-0.8" y="-0.6"/>
						</Offset>
						<Color a="0.8" r="1" g="1" b="1"/>
					</Shadow>
				</FontString>	
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="5">
				<Texture parentKey="AlphaChannelRune" hidden="true" file="Interface\AddOns\Narcissus\Art\Masks\Rune-Mask" Alpha="1">
					<TexCoords left="1" right="0" top="0" bottom="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
	</Button>

	<Button name="NarciRuneSlotRightTemplate" inherits="NarciRuneSlotTemplate" frameLevel="6" virtual="true">
		<Size x="30" y="30"/>
		<HitRectInsets>
			<AbsInset left="10" right="4" top="-2" bottom="-2"/>
		</HitRectInsets>
		<Layers>
			<Layer level="OVERLAY" textureSubLevel="3">
				<Texture parentKey="Background" hidden="false" file="Interface\AddOns\Narcissus\Art\Runes\RunePlate-Epic" Alpha="1">
					<Anchors>
						<Anchor point="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="4">
				<FontString inherits="NarciRuneFont" parentKey="RuneLetter" Alpha="0.6" hidden="true"> <!--&#x000A;ᛏ-->
					<Anchors>
						<Anchor point="RIGHT" relativeKey="$parent.$parent.Border" relativePoint="RIGHT" x="-6" y="0"/>
					</Anchors>
					<Shadow>
						<Offset>
							<AbsDimension x="0.8" y="-0.6"/>
						</Offset>
						<Color a="0.8" r="1" g="1" b="1"/>
					</Shadow>
				</FontString>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="5">
				<Texture parentKey="AlphaChannelRune" hidden="true" file="Interface\AddOns\Narcissus\Art\Masks\Rune-Mask" Alpha="1">
					<TexCoords left="1" right="0" top="0" bottom="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
	</Button>

	<Button name="NarciSlotButtonTemplate" registerForClicks="LeftButtonUp, RightButtonUp" virtual="true" frameLevel="6" inherits="SecureActionButtonTemplate"> <!--inherits="SecureActionButtonTemplate"  inherits="SecureHandlerClickTemplate" -->
		<Size>
			<AbsDimension x="64" y="64"/>
		</Size>
		<HitRectInsets>
			<AbsInset left="12" right="12" top="12" bottom="12"/>
		</HitRectInsets>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture parentKey="Shadow" file="Interface\AddOns\Narcissus\Art\Border-Thick\HexagonShadow.tga" Alpha="0.8" hidden="true">
					<Size x="70" y="70"/>
					<Anchors>
						<Anchor point="CENTER"/>
					</Anchors>
				</Texture>
			</Layer>	
			<Layer level="ARTWORK" textureSubLevel="2">
				<Texture parentKey="AlphaChannelShadow" file="Interface\AddOns\Narcissus\Art\Masks\HexagonShadow-Mask.tga" Alpha="0.8" hidden="true">
					<Size x="70" y="70"/>
					<Anchors>
						<Anchor point="CENTER"/>
					</Anchors>
				</Texture>
				<Texture parentKey="Icon">
					<Size x="48" y="48"/>	<!--48-->
					<Anchors>
						<Anchor point="CENTER"/>
					</Anchors>
					<Animations>
						<AnimationGroup parentKey="anim">
							<Alpha startDelay="0.1" fromAlpha="1" toAlpha="0" duration="0.2" order="1"/>
							<Scripts>
								<OnPlay>
									local overlay = self:GetParent():GetParent().IconOverlay;
									overlay:SetDesaturated(self:GetParent():IsDesaturated());
									overlay:SetAlpha(1)
								</OnPlay>
								<OnFinished>
									local overlay = self:GetParent():GetParent().IconOverlay;
									self:GetParent():SetAlpha(0)
									self:GetParent():SetTexture(overlay:GetTexture());
									self:GetParent():SetAlpha(1)
									overlay:SetAlpha(0)
								</OnFinished>
							</Scripts>
						</AnimationGroup>
					</Animations>
				</Texture>
			</Layer>
			<Layer level="ARTWORK" textureSubLevel="1">
				<Texture parentKey="IconOverlay" Alpha="0">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.Icon" relativePoint="TOPLEFT"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Icon" relativePoint="BOTTOMRIGHT"/>
					</Anchors>
				</Texture>
			</Layer>	
			<Layer level="OVERLAY" textureSubLevel="2">
				<Texture parentKey="Border" file="Interface\AddOns\Narcissus\Art\Border\HexagonBorder.tga">
					<Size x="64" y="64"/>
					<Anchors>
						<Anchor point="CENTER"/>
					</Anchors>
					<Animations>
						<AnimationGroup parentKey="anim">
							<Alpha startDelay="0.1" fromAlpha="1" toAlpha="0" duration="0.2" order="1"/>
							<Scripts>
								<OnPlay>
									local overlay = self:GetParent():GetParent().BorderOverlay;
									overlay:SetDesaturated(self:GetParent():IsDesaturated());
									overlay:SetAlpha(1)
								</OnPlay>
								<OnFinished>
									local overlay = self:GetParent():GetParent().BorderOverlay;
									self:GetParent():SetAlpha(0)
									self:GetParent():SetTexture(overlay:GetTexture());
									self:GetParent():SetAlpha(1)
									overlay:SetAlpha(0)
								</OnFinished>
							</Scripts>
						</AnimationGroup>
					</Animations>
				</Texture>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="1">
				<Texture parentKey="BorderOverlay" file="Interface\AddOns\Narcissus\Art\Border\HexagonBorder.tga" Alpha="0">
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.Border" relativePoint="TOPLEFT"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Border" relativePoint="BOTTOMRIGHT"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="10">
				<Texture parentKey="AlphaChannelBorder" file="Interface\AddOns\Narcissus\Art\Masks\HexagonThick-Mask.tga" hidden="true">
					<Size x="64" y="64"/>
					<Anchors>
						<Anchor point="CENTER"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<MaskTexture parentKey="HexMask" file="Interface\AddOns\Narcissus\Art\Border\HexagonMask" hWrapMode="CLAMPTOBLACKADDITIVE" vWrapMode="CLAMPTOBLACKADDITIVE">
					<Size>
						<AbsDimension x="60" y="60"/>
					</Size>
					<Anchors>
						<Anchor point="CENTER"/>
					</Anchors>
					<MaskedTextures>
						<MaskedTexture childKey="Icon"/>
						<MaskedTexture childKey="IconOverlay"/>
					</MaskedTextures>
				</MaskTexture>

			</Layer>
			<Layer level="OVERLAY" textureSubLevel="1">
				<Texture parentKey="Highlight" hidden="true" file="Interface\AddOns\Narcissus\Art\Solid\HexagonSolid-Highlight" alphaMode="ADD" Alpha="0">
					<Size x="52" y="52"/>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent" x="0" y="-1"/>
					</Anchors>
					<Animations>
						<AnimationGroup parentKey="BlingIn" looping="NONE" smoothing="IN_OUT" setToFinalAlpha="true">
							<Alpha fromAlpha="0" toAlpha="1" duration="0.2" order="1" parentKey="a1"/>
							<Scripts>
								<OnPlay>
									self.a1:SetFromAlpha(self:GetParent():GetAlpha());
									self:GetParent():Show();
								</OnPlay>
								<OnFinished>
									if not self:GetParent():GetParent():IsMouseOver() then
										self:GetParent().BlingOut:Play();
									end
								</OnFinished>
							</Scripts>
						</AnimationGroup>
						<AnimationGroup parentKey="BlingOut" looping="NONE" smoothing="IN_OUT" setToFinalAlpha="true">
							<Alpha toAlpha="0" duration="0.6" order="1" parentKey="a1"/>
							<Scripts>
								<OnPlay>
									self.a1:SetFromAlpha(self:GetParent():GetAlpha());
								</OnPlay>
								<OnFinished>
									self:GetParent():Hide();
								</OnFinished>
							</Scripts>
						</AnimationGroup>
					</Animations>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Frame parentKey="CooldownFrame" inherits="Narci_CooldownFrameTemplate"/>
			<Frame parentKey="IlvlCenter"  hidden="true">
				<Layers>
					<Layer level="OVERLAY" textureSubLevel="3">
						<FontString parentKey="ItemLevelCenter" inherits="NarciFontNormal10White" justifyH="CENTER" justifyV="MIDDLE" text="">
							<Size x="0" y="0"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent.$parent.Border" relativePoint="CENTER" x="0" y="-8"/>
							</Anchors>
						</FontString>
					</Layer>
					<Layer level="BORDER" textureSubLevel="1">
						<Texture setAllPoints="true" parentKey="GradientBackgroundCenterLeft">
							<Size x="16" y="14" />
							<Color r="0" g="0" b="0" a="1"/>
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.ItemLevelCenter" relativePoint="CENTER"  x="0" y="0"/>
							</Anchors>
							<Gradient orientation="HORIZONTAL">
								<MinColor a="0" r="0" g="0" b="0"/>
								<MaxColor a="0.8" r="0" g="0" b="0"/>
							</Gradient>
						</Texture>
						<Texture setAllPoints="true" parentKey="GradientBackgroundCenterRight">
							<Size x="16" y="14" />
							<Color r="0" g="0" b="0" a="1"/>
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.ItemLevelCenter" relativePoint="CENTER"  x="0" y="0"/>
							</Anchors>
							<Gradient orientation="HORIZONTAL">
								<MinColor a="0.8" r="0" g="0" b="0"/>
								<MaxColor a="0" r="0" g="0" b="0"/>
							</Gradient>
						</Texture>
					</Layer>
				</Layers>
			</Frame>
		</Frames>
		<Attributes>
		</Attributes>
	</Button>

	<Button name="NarciEquipmentFlyoutButtonTemplate" inherits="NarciSlotButtonTemplate" frameStrata="DIALOG" toplevel="true" virtual="true" mixin="NarciEquipmentFlyoutButtonMixin">
        <Scripts>
            <OnLoad>
			</OnLoad>
			<OnClick method="OnClick"/>
			<OnEnter method="OnEnter"/>
			<OnLeave method="OnLeave"/>
			<OnEvent method="OnEvent"/>
		</Scripts>
		<Frames>
			<Button inherits="NarciRuneSlotRightTemplate">
				<Anchors>
					<Anchor point="RIGHT" relativeKey="$parent" x="0" y="0"/>
				</Anchors>
				<Scripts>
					<OnEnter/>
					<OnLeave/>
				</Scripts>
			</Button>
		</Frames>
	</Button>

    <Button name="NarciEquipmentSlotButtonTemplate" inherits="NarciSlotButtonTemplate" virtual="true" mixin="NarciEquipmentSlotMixin"> <!--inherits="SecureActionButtonTemplate"-->
        <Scripts>
            <OnLoad method="OnLoad"/>
            <OnDragStart>
				local itemLocation = ItemLocation:CreateFromEquipmentSlot(self:GetID())
				if C_Item.DoesItemExist(itemLocation) then
					C_Item.UnlockItem(itemLocation);
					PickupInventoryItem(self:GetID());
					Narci_Bridge_DragStratEvent();
				end
			</OnDragStart>
            <OnReceiveDrag>
				PickupInventoryItem(self:GetID());
				Narci_Bridge_DragEndEvent();
			</OnReceiveDrag>
			<OnShow method="OnShow"/>
			<OnHide method="OnHide"/>
			<PostClick method="PostClick"/>
			<OnEnter method="OnEnter"/>
			<OnLeave method="OnLeave"/>
			<OnEvent method="OnEvent"/>
        </Scripts>
    </Button>

	<Button name="Narci_InteractiveGemSlot_Template" inherits="Narci_GemSlot_Template" virtual="true">
		<Scripts>
			<OnEnter function="Narci_GemButton_OnEnter"/>
			<OnLeave function="Narci_GemButton_OnLeave"/>
			<OnClick function="Narci_GemSlot_OnClick"/>
		</Scripts>
	</Button>

	<Button name="NarciSlotButtonLeft" inherits="NarciEquipmentSlotButtonTemplate" virtual="true"> 
		<Layers>
			<Layer level="BACKGROUND">
				<Texture setAllPoints="true" parentKey="GradientBackground">
					<Size x="140" y="40"/>
					<Color r="0" g="0" b="0" a="1"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent" relativePoint="RIGHT" x="-32" y="0"/>
					</Anchors>
					<Gradient orientation="HORIZONTAL">
						<MinColor a="0.6" r="1" g="1" b="1"/>
						<MaxColor a="0" r="1" g="1" b="1"/>
					</Gradient>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString parentKey="Name" inherits="NarciFontItemName" justifyH="LEFT" justifyV="TOP" text="Item Name" maxLines="2">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.GradientBackground" relativePoint="TOPLEFT" x="30" y="-7"/>
					</Anchors>
					<Animations>
						<AnimationGroup parentKey="anim1" smoothing="IN_OUT">
							<Alpha fromAlpha="1" toAlpha="0" duration="0.2" order="1"/>
						</AnimationGroup>
						<AnimationGroup parentKey="anim2" smoothing="IN_OUT">
							<Alpha fromAlpha="0" toAlpha="1" duration="0.2" order="1"/>
						</AnimationGroup>
					</Animations>
				</FontString>
				<FontString parentKey="ItemLevel" inherits="NarciFontNormal10White" justifyH="LEFT" justifyV="TOP" text="355" maxLines="2">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="BOTTOMLEFT" relativeKey="$parent.GradientBackground" relativePoint="BOTTOMLEFT" x="30" y="6"/>
					</Anchors>
					<Animations>
						<AnimationGroup parentKey="anim1" smoothing="IN_OUT">
							<Alpha fromAlpha="1" toAlpha="0" duration="0.2" order="1"/>
						</AnimationGroup>
						<AnimationGroup parentKey="anim2" smoothing="IN_OUT">
							<Alpha fromAlpha="0" toAlpha="1" duration="0.2" order="1"/>
						</AnimationGroup>
					</Animations>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button inherits="Narci_InteractiveGemSlot_Template">
				<Anchors>
					<Anchor point="RIGHT" relativeKey="$parent" relativePoint="LEFT" x="8" y="0"/>
				</Anchors>
			</Button>
			<Button inherits="NarciRuneSlotLeftTemplate">
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent" x="0" y="0"/>
				</Anchors>
			</Button>
		</Frames>
		<Scripts>

		</Scripts>
		<Animations>
			<AnimationGroup parentKey="animOut">
				<Translation parentKey="Translation" offsetX="-120" duration="0.6" order="1"/>
			</AnimationGroup>
		</Animations>
	</Button>

	<Button name="NarciSlotButtonRight" inherits="NarciEquipmentSlotButtonTemplate" virtual="true"> 
		<Layers>
			<Layer level="BACKGROUND">
				<Texture setAllPoints="true" parentKey="GradientBackground">
					<Size x="140" y="40" />
					<Color r="0" g="0" b="0" a="1"/>
					<Anchors>
						<Anchor point="RIGHT" relativeKey="$parent" relativePoint="LEFT" x="32" y="0"/>
					</Anchors>
					<Gradient orientation="HORIZONTAL">
						<MinColor a="0" r="1" g="1" b="1"/>
						<MaxColor a="0.6" r="1" g="1" b="1"/>
					</Gradient>
				</Texture>
			</Layer>	
			<Layer level="OVERLAY">
				<FontString parentKey="Name" inherits="NarciFontItemName" justifyH="RIGHT" justifyV="TOP" text="Item Name" maxLines="2">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="TOPRIGHT" relativeKey="$parent.GradientBackground" relativePoint="TOPRIGHT" x="-30" y="-7"/>
					</Anchors>
					<Animations>
						<AnimationGroup parentKey="anim1" smoothing="IN_OUT">
							<Alpha fromAlpha="1" toAlpha="0" duration="0.2" order="1"/>
						</AnimationGroup>
						<AnimationGroup parentKey="anim2" smoothing="IN_OUT">
							<Alpha fromAlpha="0" toAlpha="1" duration="0.2" order="1"/>
						</AnimationGroup>
					</Animations>
				</FontString>
				<FontString parentKey="ItemLevel" inherits="NarciFontNormal10White" justifyH="RIGHT" justifyV="TOP" text="355" maxLines="2">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.GradientBackground" relativePoint="BOTTOMRIGHT" x="-30" y="6"/>
					</Anchors>
					<Animations>
						<AnimationGroup parentKey="anim1" smoothing="IN_OUT">
							<Alpha fromAlpha="1" toAlpha="0" duration="0.2" order="1"/>
						</AnimationGroup>
						<AnimationGroup parentKey="anim2" smoothing="IN_OUT">
							<Alpha fromAlpha="0" toAlpha="1" duration="0.2" order="1"/>
						</AnimationGroup>
					</Animations>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button inherits="Narci_InteractiveGemSlot_Template">
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent" relativePoint="RIGHT" x="-8" y="0"/>
				</Anchors>
				<Scripts>
					<OnLoad>
						self.isRight = true;
						self.GemBorder:SetTexCoord(1, 0, 0, 1);
						self.GemIcon:SetPoint("CENTER", self, "CENTER", -3, 0);
					</OnLoad>
				</Scripts>
			</Button>
			<Button inherits="NarciRuneSlotRightTemplate">
				<Anchors>
					<Anchor point="RIGHT" relativeKey="$parent" x="0" y="0"/>
				</Anchors>
			</Button>
		</Frames>
		<Scripts>
            <OnLoad>
				self:OnLoad();
				self.isRight = true;
			</OnLoad>
		</Scripts>
		<Animations>
			<AnimationGroup parentKey="animOut">
				<Translation parentKey="Translation" offsetX="120" duration="0.6" order="1"/>
			</AnimationGroup>
		</Animations>
	</Button>

	<Frame name="Narci_GuideLineFrame" setAllPoints="true">
		<Anchors>
			<Anchor point="TOPLEFT" relativeTo="UIParent" relativePoint="TOPLEFT" x="0"/>
			<Anchor point="BOTTOMRIGHT" relativeTo="UIParent" relativePoint="BOTTOMRIGHT" x="0"/>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture setAllPoints="true" hidden="true">
					<Color r="0.18" g="0.20" b="1" a="0.25"/>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Frame parentKey="RightLineAnimFrame" inherits="NarciAnimContainerFrame"/>		
				
			<Frame name="Narci_VirtualLineLeft" parentKey="VirtualLineLeft">
				<Size>
					<AbsDimension x="1" y="1"/>
				</Size>
				<Anchors>
					<Anchor point="LEFT" x="80" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture setAllPoints="true" hidden="true">
							<Size x="1" y="1000" />
							<Color r="0.64" g="0.21" b="0.93" a="1"/>
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<Frame parentKey="AnimFrame" inherits="NarciAnimContainerFrame">
						<Scripts>
							<OnUpdate function="LeftLineAnimFrame_OnUpdate"/>
						</Scripts>
					</Frame>
				</Frames>
			</Frame>

			<Frame name="Narci_VirtualLineRight" parentKey="VirtualLineRight">
				<Size>
					<AbsDimension x="1" y="1"/>
				</Size>
				<Anchors>
					<Anchor point="RIGHT" x="-496" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture setAllPoints="true" hidden="true">
							<Size x="1" y="1000" />
							<Color r="0.64" g="0.21" b="0.93" a="1"/>
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<Frame parentKey="AnimFrame" inherits="NarciAnimContainerFrame">
						<Scripts>
							<OnUpdate function="RightLineAnimFrame_OnUpdate"/>
						</Scripts>
					</Frame>
				</Frames>
			</Frame>

			<Frame name="Narci_VirtualLineCenter" parentKey="VirtualLineCenter"  hidden="true" setAllPoints="true">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="Narci_VirtualLineLeft" relativePoint="TOPLEFT" x="0" y="0"/>
					<Anchor point="BOTTOMRIGHT" relativeTo="Narci_VirtualLineRight" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture setAllPoints="true" hidden="true">
							<Size x="2" y="1000" />
							<Color r="1" g="1" b="1" a="0.2"/>
							<Anchors>
								<Anchor point="CENTER" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
			</Frame>
			<Frame name="Narci_VirtualLineRightCenter" parentKey="VirtualLineRightCenter"  hidden="false" setAllPoints="true">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="Narci_VirtualLineRight" relativePoint="TOPLEFT" x="0" y="0"/>
					<Anchor point="BOTTOMRIGHT" />
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture setAllPoints="true" hidden="true">
							<Color r="1" g="1" b="1" a="0.6"/>
							<Anchors>
								<Anchor point="TOP"/>
								<Anchor point="BOTTOM"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
			</Frame>
		</Frames>	

		<Scripts>
			<OnLoad function="Narci_GuideLineFrame_OnSizing"/>
		</Scripts>
	</Frame>

	<Button name="ControllerButtonTemplate" virtual="true">
		<Size>
			<AbsDimension x="40" y="40"/>
		</Size>
		<Layers>
			<Layer level="BACKGROUND" textureSubLevel="2">
				<Texture file="Interface\AddOns\Narcissus\Art\Widgets\Controller\Panel">
					<TexCoords left="0.369140625" right="0.5" top="0" bottom="0.130859375"/>	<!--Ring <TexCoords left="0.369140625" right="0.5" top="0" bottom="0.130859375"/> <TexCoords left="0.177734375" right="0.326171875" top="0" bottom="0.1171875"/>-->
					<Size x="40" y="40"/>
					<Anchors>
						<Anchor point="CENTER"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<PushedTexture parentKey="Pushed" file="Interface\AddOns\Narcissus\Art\Widgets\Controller\Xmog">
			<TexCoords left="0" right="0.5" top="0" bottom="1"/>
			<Size x="36" y="36"/>
			<Anchors>
				<Anchor point="CENTER"/>
			</Anchors>
		</PushedTexture>
		<Scripts>
			<OnLoad function="ControllerButtonTemplate_OnLoad"/>
			<OnMouseDown>
				NarciTooltip:FadeOut();
				if self.Pushed and self.Icon then
					self.Pushed:SetTexCoord(self.Icon:GetTexCoord())
				end				
			</OnMouseDown>
			<OnEnter>
				self.EnableSFX = true;
				self.Icon:SetTexCoord(0.5, 1, 0, 1);
				self.Pushed:SetTexCoord(0.5, 1, 0, 1);
				NarciTooltip:ShowTooltip(self);
			</OnEnter>
			<OnLeave>
				if not self.IsOn then
					self.Icon:SetTexCoord(0, 0.5, 0, 1);
					self.Pushed:SetTexCoord(0, 0.5, 0, 1);
				end

				NarciTooltip:FadeOut();
			</OnLeave>
			<OnDoubleClick>
				return;
			</OnDoubleClick>
			<OnHide>
				self.EnableSFX = false;
			</OnHide>
		</Scripts>
	</Button>

	<Frame name="Narci_PhotoModeController" hidden="true" frameStrata="HIGH" Alpha="0" frameLevel="10">
		<Size>
			<AbsDimension x="80" y="80"/>
		</Size>
		<Anchors>
			<Anchor point="BOTTOMLEFT" x="10" y="-80"/>	<!--EndY = 10 -->
		</Anchors>
		<Frames>
			<Button parentKey="ExitButton" ignoreParentAlpha="true" Alpha="0">
				<Size x="64" y="64"/>
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="UIParent" relativePoint="TOPRIGHT"/>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\Arrows\TopRightCornerExitButton.tga"/>
					</Layer>
				</Layers>
				<Scripts>
					<OnClick function="Narci_ExitButton_OnClick"/>
					<OnEnter>
						UIFrameFadeIn(self, 0.2, self:GetAlpha(), 1)
					</OnEnter>
					<OnLeave>
						UIFrameFadeOut(self, 0.2, self:GetAlpha(), 0)
					</OnLeave>
				</Scripts>
			</Button>
			<Frame parentKey="KeyListener" propagateKeyboardInput="true">
				<Scripts>
					<OnLoad>
						self.EscapeKey = "ESCAPE";
					</OnLoad>
					<OnKeyDown>
						if (key == self.EscapeKey or key == "F5") and (not Narci.UserIsInputing) then		--ConsolePort "Back"
							Narci_KeyListener_OnEscapePressed();
						end
					</OnKeyDown>
				</Scripts>
			</Frame>
			<Frame parentKey="PhotoModeController_AnimFrame" inherits="NarciAnimContainerFrame" hidden="true">
				<Scripts>
					<OnUpdate function="PhotoModeController_AnimFrame_OnUpdate"/>
					<OnShow>
						local _;
						self.fromAlpha = self:GetParent():GetAlpha();
						self:GetParent():Show()
						_, _, _, self.StartPoint, self.StartPointY = self:GetParent():GetPoint();
					</OnShow>
					<OnLoad>
						self.fromAlpha = 0;
						self.toAlpha = 1;
						self.OppoDirection = false;
						self.Width = self:GetParent():GetWidth();
						self.TimeSinceLastUpdate = 0;

						self.AnchorPoint, self.relativeTo, self.relativePoint, self.EndPoint, self.EndPointY = self:GetParent():GetPoint();
						self.EndPointBAK = self.EndPoint;
					</OnLoad>
				</Scripts>
			</Frame>
			<Frame name="PhotoModeControllerTransition" frameLevel="15" enableMouse="false" enableMouseMotion="false" enableMouseClicks="false">
				<Size>
					<AbsDimension x="260.4" y="74.4"/>
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="3"/>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY" textureSubLevel="12">
						<Texture parentKey="Sequence" file="Interface\AddOns\Narcissus\Art\Animations\PhotoModeController" Alpha="0">
							<TexCoords left="0" right="0.205078125" top="0" bottom="0.1171875"/>
							<Anchors>
								<Anchor point="TOPLEFT"/>
								<Anchor point="BOTTOMRIGHT"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
			</Frame>
			<Frame name="PhotoMode_WheelEventContrainer" frameStrata="DIALOGUE">
				<Size>
					<AbsDimension x="300" y="80"/>
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT" x="0" y="0"/>
				</Anchors>
				<Scripts>
					<OnMouseWheel function="PhotoMode_WheelEventContrainer_OnMouseWheel"/>
				</Scripts>
			</Frame>
			<Button name="Narci_PhotoModeButton" parentKey="Switch" registerForClicks="LeftButtonUp, RightButtonUp, MiddleButtonUp">
				<Size>
					<AbsDimension x="80" y="80"/>
				</Size>
				<HitRectInsets>
					<AbsInset left="8" right="8" top="4" bottom="4"/>
				</HitRectInsets>
				<Anchors>
					<Anchor point="LEFT" relativeTo="$parent" relativePoint="LEFT" x="1" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY" textureSubLevel="6">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\Controller\Panel">
							<TexCoords left="0" right="0.25" top="0.5" bottom="0.75"/>
							<Size x="80" y="80"/>
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="OVERLAY" textureSubLevel="7">
						<Texture parentKey="Icon" file="Interface\AddOns\Narcissus\Art\Widgets\Controller\Panel">
							<TexCoords left="0" right="0.25" top="0.75" bottom="1"/>
							<Size x="80" y="80"/>
							<Anchors>
								<Anchor point="CENTER" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="OVERLAY" textureSubLevel="8">
						<Texture parentKey="Ring" file="Interface\AddOns\Narcissus\Art\Widgets\Controller\Panel">
							<TexCoords left="0" right="0.25" top="0.25" bottom="0.5"/>
							<Size x="80" y="80"/>
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad function="ControllerButtonTemplate_OnLoad"/>
					<OnEnter>
						self.Icon:SetTexCoord(0.25, 0.5, 0.75, 1);
						if not CameraZoomController_DraggingFrame:IsShown() then
							NarciTooltip:ShowTooltip(self);
						end
					</OnEnter>
					<OnLeave>
						if not self.IsOn then
							self.Icon:SetTexCoord(0, 0.25, 0.75, 1);
						end

						NarciTooltip:FadeOut();
					</OnLeave>
					<OnClick function="Narci_PhotoModeButton_OnClick"/>

				</Scripts>
			</Button>

			<Frame name="PhotoModeControllerBar" parentKey="Bar" clipChildren="true">
				<Size>
					<AbsDimension x="40" y="130"/>
				</Size>
				<Anchors>
					<Anchor point="LEFT" relativeTo="$parent" relativePoint="CENTER" x="0" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND" textureSubLevel="1">
						<Texture parentKey="RightEnd" file="Interface\AddOns\Narcissus\Art\Widgets\Controller\Panel">
							<TexCoords left="0.126953125" right="0.177734375" top="0" bottom="0.15234375"/>
							<Size x="17" y="50"/>
							<Anchors>
								<Anchor point="RIGHT" relativeTo="$parent" relativePoint="RIGHT" x="-1" y="0"/>
							</Anchors>
						</Texture>

						<Texture parentKey="Right1" file="Interface\AddOns\Narcissus\Art\Widgets\Controller\Panel">
							<TexCoords left="0" right="0.126953125" top="0" bottom="0.15234375"/>
							<Size x="41.5" y="50"/>
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.RightEnd" relativePoint="LEFT" x="0" y="0"/>
							</Anchors>
						</Texture>

						<Texture parentKey="Right2" file="Interface\AddOns\Narcissus\Art\Widgets\Controller\Panel">
							<TexCoords left="0" right="0.126953125" top="0" bottom="0.15234375"/>
							<Size x="41.5" y="50"/>
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.Right1" relativePoint="LEFT" x="0" y="0"/>
							</Anchors>
						</Texture>

						<Texture parentKey="Right3" file="Interface\AddOns\Narcissus\Art\Widgets\Controller\Panel">
							<TexCoords left="0" right="0.126953125" top="0" bottom="0.15234375"/>
							<Size x="41.5" y="50"/>
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.Right2" relativePoint="LEFT" x="0" y="0"/>
							</Anchors>
						</Texture>

						<Texture parentKey="Right4" file="Interface\AddOns\Narcissus\Art\Widgets\Controller\Panel">
							<TexCoords left="0" right="0.126953125" top="0" bottom="0.15234375"/>
							<Size x="41.5" y="50"/>
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.Right3" relativePoint="LEFT" x="0" y="0"/>
							</Anchors>
						</Texture>

						<Texture parentKey="Right5" file="Interface\AddOns\Narcissus\Art\Widgets\Controller\Panel" hidden="false">
							<TexCoords left="0" right="0.126953125" top="0" bottom="0.15234375"/>
							<Size x="42" y="50"/>
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.Right4" relativePoint="LEFT" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<Frame name="CameraOffsetControlBar" hidden="true" frameLevel="14" Alpha="0">
						<Size>
							<AbsDimension x="168" y="16.7"/>
						</Size>
						<Anchors>
							<Anchor point="RIGHT" relativeKey="$parent" x="-16" y="0"/>
						</Anchors>
						<Layers>		
							<Layer level="ARTWORK" textureSubLevel="2">
								<Texture setAllPoints="true" hidden="true">
									<Size x="195" y="48" />
									<Color r="0" g="0" b="0" a="1"/>
									<Anchors>
										<Anchor point="CENTER" x="0" y="0"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
						<Frames>
							<Frame parentKey="Slider">
								<Size>
									<AbsDimension x="167.5" y="16"/>	<!--182 18-->
								</Size>
								<Anchors>
									<Anchor point="CENTER"/>
								</Anchors>
								<Layers>		
									<Layer level="ARTWORK" textureSubLevel="2">
										<Texture file="Interface\AddOns\Narcissus\Art\Widgets\Controller\ControlBar">
										<TexCoords left="0" right="0.5078125" top="0" bottom="0.40625"/>
											<Anchors>
												<Anchor point="TOPLEFT"/>
												<Anchor point="BOTTOMRIGHT"/>
											</Anchors>
										</Texture>
									</Layer>
								</Layers>
							</Frame>

							<Frame name="CameraControlBar_DraggingFrame" hidden="true">
								<Scripts>
									<OnUpdate function="CameraControlBar_DraggingFrame_OnUpdate"/>
									<OnShow>
										MoveViewRightStop();
										MoveViewLeftStop();
										Narci_VirtualLineCenter:Show();
									</OnShow>
									<OnHide>
										Narci_VirtualLineCenter:Hide();
									</OnHide>
								</Scripts>
							</Frame>

							<Button parentKey="Thumb" name="CameraControllerThumb">
								<Size>
									<AbsDimension x="40" y="40"/>
								</Size>
								<Anchors>
									<Anchor point="CENTER" relativeKey="$parent.Slider" relativePoint="CENTER"/>
								</Anchors>
								<Layers>
									<Layer level="ARTWORK" textureSubLevel="3">
										<Texture file="Interface\AddOns\Narcissus\Art\Widgets\Controller\Shaft" parentKey="Shaft">
											<TexCoords left="0.06640625" right="0.935546875" top="0" bottom="0.75"/>
											<Size x="106" y="17"/>
											<Anchors>
												<Anchor point="CENTER"/>
											</Anchors>
										</Texture>
									</Layer>		
									<Layer level="OVERLAY" textureSubLevel="4">
										<Texture file="Interface\AddOns\Narcissus\Art\Widgets\Controller\ControlBar">
										<TexCoords left="0.875" right="1" top="0" bottom="1"/>
											<Anchors>
												<Anchor point="TOPLEFT"/>
												<Anchor point="BOTTOMRIGHT"/>
											</Anchors>
										</Texture>
									</Layer>
									<Layer level="OVERLAY">
										<FontString parentKey="Reading" inherits="NarciFontPlayerInfo" justifyH="CENTER" justifyV="BOTTOM" text="0" hidden="true">
											<Size x="0" y="0"/>
											<Anchors>
												<Anchor point="TOP" relativeKey="$parent" relativePoint="BOTTOM" x="0" y="4"/>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
								<Scripts>
									<OnLoad function="CameraControllerThumb_OnLoad"/>
									<OnEnter>
										SetCursor("Interface/CURSOR/openhand.blp")
									</OnEnter>
									<OnLeave>
										ResetCursor();
									</OnLeave>
									<OnClick function="CameraControlBarThumb_OnClick"/>
									<OnDragStart>
										CameraControlBar_DraggingFrame:Show()
									</OnDragStart>
									<OnDragStop>
										CameraControlBar_DraggingFrame:Hide()
									</OnDragStop>
								</Scripts>
							</Button>

							<Frame name="CameraZoomController_DraggingFrame" hidden="true">
								<Scripts>
									<OnLoad>
										self.isPressed = false;
										self.cx, self.cy= self:GetParent().Thumb:GetCenter()
										self:SetScript("OnEvent", function(self, event, ...)
											if event == "MODIFIER_STATE_CHANGED" then
												local key, isPressed = ...;
												if key == "LSHIFT" then
													if isPressed == 1 then
														self.isPressed = true;
													else
														self.isPressed = false;
													end
												end
											end
										end)
									</OnLoad>
									<OnShow>
										self.cx, self.cy= self:GetParent().Thumb:GetCenter()
									</OnShow>
									<OnHide>

									</OnHide>
									<OnUpdate function="CameraZoomController_DraggingFrame_OnUpdate"/>
								</Scripts>
							</Frame>

							<Button parentKey="Node" name="CameraControllerNode">
								<Size>
									<AbsDimension x="35" y="35"/>
								</Size>
								<Anchors>
									<Anchor point="CENTER" relativeKey="$parent.Thumb" relativePoint="CENTER" x="53" y="0"/>
								</Anchors>
								<Layers>		
									<Layer level="ARTWORK" textureSubLevel="4">
										<Texture file="Interface\AddOns\Narcissus\Art\Widgets\Controller\ControlBar">
										<TexCoords left="0.75" right="0.875" top="0" bottom="1"/>
											<Anchors>
												<Anchor point="TOPLEFT"/>
												<Anchor point="BOTTOMRIGHT"/>
											</Anchors>
										</Texture>
									</Layer>
								</Layers>
								<Frames>

								</Frames>
								<Scripts>
									<OnLoad>
										self:RegisterForClicks("RightButtonUp")
										self:RegisterForDrag("LeftButton")
									</OnLoad>
									<OnClick function="CameraControlBarThumb_OnClick"/>
									<OnEnter>
										SetCursor("Interface/CURSOR/openhand.blp")
									</OnEnter>
									<OnDragStart>
										CameraZoomController_DraggingFrame:Show()
									</OnDragStart>
									<OnDragStop>
										CameraZoomController_DraggingFrame:Hide()
									</OnDragStop>
								</Scripts>
							</Button>
							<Frame name="CameraControlBar_ResetPosition_AnimFrame" hidden="true">
								<Scripts>
									<OnShow function="CameraControlBar_ResetPosition_AnimFrame_OnShow"/>

									<OnLoad>
										self.OppoDirection = false;
										self.TimeSinceLastUpdate = 0;
										self.duration = 0.5;
									</OnLoad>
									<OnHide>
										self.TimeSinceLastUpdate = 0;
										--self.OppoDirection = not self.OppoDirection;
									</OnHide>
									<OnUpdate function="CameraControlBar_ResetPosition_AnimFrame_OnUpdate"/>
								</Scripts>
							</Frame>
						</Frames>
						<Scripts>
							<OnLoad>
								self.PosRadian = 0;
								self.PosOffset = 0;
								self.Range = 120;
							</OnLoad>
							<OnShow>
								CameraZoomController_DraggingFrame:RegisterEvent("MODIFIER_STATE_CHANGED");
							</OnShow>
							<OnHide>
								CameraZoomController_DraggingFrame:UnregisterEvent("MODIFIER_STATE_CHANGED");
							</OnHide>
						</Scripts>
					</Frame>
					<Button name="Narci_XmogButton" inherits="ControllerButtonTemplate" parentKey="Xmog">
						<Anchors>
							<Anchor point="CENTER" relativeKey="$parent.Right4" relativePoint="CENTER" x="0" y="0"/>
						</Anchors>
						<NormalTexture parentKey="Icon" file="Interface\AddOns\Narcissus\Art\Widgets\Controller\Xmog">
							<TexCoords left="0" right="0.5" top="0" bottom="1"/>
							<Size x="40" y="40"/>
							<Anchors>
								<Anchor point="CENTER" y="-0.5"/>
							</Anchors>
						</NormalTexture>
						<DisabledTexture parentKey="IconDisabled" file="Interface\AddOns\Narcissus\Art\Widgets\Controller\Xmog" Alpha="0.4">
							<TexCoords left="0" right="0.5" top="0" bottom="1"/>
							<Size x="40" y="40"/>
							<Anchors>
								<Anchor point="CENTER" y="-0.5"/>
							</Anchors>
						</DisabledTexture>
						<Layers>
						</Layers>
						<Scripts>
							<OnClick function="XmogButton_OnClick"/>
							<OnEnter>
								self.EnableSFX = true;
								self.Icon:SetTexCoord(0.5, 1, 0, 1);
								self.Pushed:SetTexCoord(0.5, 1, 0, 1);
								local frame = Narci_XmogButtonPopUp.AnimFrame;
								if not self.IsOn then
									NarciTooltip:ShowTooltip(self);
								elseif not Narci_XmogButtonPopUp:IsShown() then
									Narci_XmogButtonPopUp:Show();
									frame:Hide();
									frame.OppoDirection = false		
									frame:Show();
									frame.EndPointY = 8;


									if EmoteButtonPopUp:IsShown() then
										--EmoteButtonPopUp.AnimFrame:Hide();
										EmoteButtonPopUp.AnimFrame.OppoDirection = true		
										EmoteButtonPopUp.AnimFrame:Show();
										EmoteButtonPopUp.AnimFrame.EndPointY = -20;
									end									
								end
							</OnEnter>
						</Scripts>
					</Button>

					<Button name="Narci_EmoteButton" inherits="ControllerButtonTemplate" parentKey="Emote">
						<Anchors>
							<Anchor point="CENTER" relativeKey="$parent.Right3" relativePoint="CENTER" x="0" y="0"/>
						</Anchors>
						<NormalTexture parentKey="Icon" file="Interface\AddOns\Narcissus\Art\Widgets\Controller\Emote">
							<TexCoords left="0" right="0.5" top="0" bottom="1"/>
							<Size x="38" y="39"/>
							<Anchors>
								<Anchor point="CENTER" x="-0.0"/>
							</Anchors>
						</NormalTexture>
						<Frames>
							<Frame name="EmoteButton_UpdateFrame" parentKey="UpdateFrame" hidden="true">
								<Scripts>
									<OnShow function="EmoteButton_UpdateFrame_OnShow"/>
									<OnUpdate function="EmoteButton_UpdateFrame_OnUpdate"/>
								</Scripts>
							</Frame>
						</Frames>
						<Scripts>
							<OnClick function="Narci_EmoteButton_OnClick"/>
							<OnEnter>
								self.EnableSFX = true;
								self.Icon:SetTexCoord(0.5, 1, 0, 1);
								self.Pushed:SetTexCoord(0.5, 1, 0, 1);
								local frame = EmoteButtonPopUp.AnimFrame;

								if not self.IsOn then
									NarciTooltip:ShowTooltip(self);
								elseif not EmoteButtonPopUp:IsShown() then
									EmoteButtonPopUp:Show();
									frame:Hide();
									frame.OppoDirection = false		
									frame:Show();
									frame.EndPointY = 8;

									local xmogPopUp = Narci_XmogButtonPopUp;
									if xmogPopUp:IsShown() then
										xmogPopUp.AnimFrame:Hide();
										xmogPopUp.AnimFrame.OppoDirection = true		
										xmogPopUp.AnimFrame:Show();
										xmogPopUp.AnimFrame.EndPointY = -20;
									end									
								end
							</OnEnter>
						</Scripts>
					</Button>

					<Button name="Narci_HideTextsButton" inherits="ControllerButtonTemplate" parentKey="HideTexts">
						<Anchors>
							<Anchor point="CENTER" relativeKey="$parent.Right2" relativePoint="CENTER" x="0" y="0"/>
						</Anchors>
						<Layers>
							<Layer level="ARTWORK" textureSubLevel="4">

							</Layer>
						</Layers>
						<NormalTexture parentKey="Icon" file="Interface\AddOns\Narcissus\Art\Widgets\Controller\HideTexts">
							<TexCoords left="0" right="0.5" top="0" bottom="1"/>
							<Size x="40" y="40"/>
							<Anchors>
								<Anchor point="CENTER" y="-0.5"/>
							</Anchors>
						</NormalTexture>
						<Scripts>
							<OnClick function="Narci_HideTextsButton_OnClick"/>
						</Scripts>
					</Button>

					<Button name="Narci_TopQualityButton" inherits="ControllerButtonTemplate" parentKey="TopQuality">
						<Anchors>
							<Anchor point="CENTER" relativeKey="$parent.Right1" relativePoint="CENTER" x="0" y="0"/>
						</Anchors>
						<NormalTexture parentKey="Icon" file="Interface\AddOns\Narcissus\Art\Widgets\Controller\TopQuality">
							<TexCoords left="0" right="0.5" top="0" bottom="1"/>
							<Size x="40" y="40"/>
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
						</NormalTexture>
						<Scripts>
							<OnClick function="TopQualityButton_OnClick"/>
						</Scripts>
					</Button>

					<Slider name="TopQualityButton_MSAASlider" inherits="NarciHorizontalSliderWithMarksTemplate" Alpha="0" valueStep="1" obeyStepOnDrag="true" minValue="0" maxValue="3" ignoreParentScale="true" hidden="true" scale="0.8" parentKey="MSAASlider">
						<Size x="100" y="6"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent.Xmog" relativePoint="BOTTOMLEFT" x="-8" y="-12"/>
						</Anchors>
						<Scripts>
							<OnHide>
								self:Hide();
								self:SetAlpha(0);
								self.EnableSFX = false;
							</OnHide>
							<OnShow>
								self.Label:SetText(MULTISAMPLE_ANTI_ALIASING);
								local level = GetCVar("MSAAQuality");
								local value0 = tonumber(string.sub(level, 1,1));
								self:SetValue(value0);
								self.KeyLabel:Hide();
								self.Label:Hide();
								self.KeyLabel2:Show();
								TopQualityButton_MSAASlider_OnValueChanged(self, value0, userInput)
							</OnShow>
							<OnValueChanged function="TopQualityButton_MSAASlider_OnValueChanged"/>
						</Scripts>
					</Slider>

					<Button name="TopQualityButton_RayTracingToggle" parentKey="RayTracingSwitch" ignoreParentScale="true" hidden="true" Alpha="0" mixin="NarciRayTracingToggleMixin">
						<Size x="42" y="16"/>
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.MSAASlider" relativePoint="RIGHT" x="58" y="0"/>
						</Anchors>
						<Layers>
							<Layer level="BACKGROUND">
								<Texture parentKey="Background" Alpha="0.5">
									<Color r="0.35" g="0.35" b="0.35" a="1"/>
								</Texture>
								<Texture>
									<Color r="0.1" g="0.1" b="0.1" a="1"/>
									<Size x="3" y="16"/>
									<Anchors>
										<Anchor point="RIGHT" relativeKey="$parent" relativePoint="LEFT" x="0" y="0"/>
									</Anchors>
								</Texture>
							</Layer>
							<Layer level="ARTWORK">
								<Texture parentKey="Fill" Alpha="0.5">
									<Color r="0.46" g="0.74" b="0.26" a="1"/>
									<Size x="42" y="16"/>
									<Anchors>
										<Anchor point="LEFT" relativeKey="$parent.Background" relativePoint="LEFT"/>
									</Anchors>
								</Texture>
							</Layer>
							<Layer level="OVERLAY">
								<FontString parentKey="Label" inherits="NarciIndicatorLetter" text="RTX OFF" ignoreParentScale="true" justifyH="CENTER" justifyV="BOTTOM">
									<Anchors>
										<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
									</Anchors>
									<Shadow>
									 	<Color r="0" g="0" b="0" a="0"/>
										<Offset>
											<AbsDimension x="1" y="-1"/>
										</Offset>
									</Shadow>
								</FontString>
							</Layer>
						</Layers>
						<Scripts>
							<OnLoad method="OnLoad"/>
							<OnClick method="OnClick"/>
							<OnEnter method="OnEnter"/>
							<OnLeave method="OnLeave"/>
							<OnShow method="OnShow"/>
							<OnHide method="OnHide"/>
						</Scripts>
					</Button>

				</Frames>
			</Frame>
			
			<Frame name="EmoteButtonPopUp" clampedToScreen="false" frameStrata="HIGH" frameLevel="9" hidden="true">
				<Size x="128" y="200"/>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativeTo="Narci_EmoteButton" relativePoint="TOPLEFT" x="-46" y="-20"/> <!--EndPoint 8-->
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<Texture inherits="NarciBottomShadowTemplate"/>
					</Layer>					
				</Layers>
				<Frames>
					<Frame parentKey="AnimFrame" inherits="NarciAnimContainerFrame">
						<Scripts>
							<OnUpdate function="EmoteButtonPopUp_AnimFrame_OnUpdate"/>
						</Scripts>
					</Frame>

					<Button inherits="CheckboxButtonTemplate" parentKey="AutoCapture" id="4">
						<Size>
							<AbsDimension x="150" y="20"/>
						</Size>
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPRIGHT" x="2" y="0"/>
						</Anchors>
						<Layers>
							<Layer level="OVERLAY">
								<Texture inherits="NarciBottomShadowTemplate"/>
							</Layer>					
						</Layers>
						<Scripts>
							<OnLoad>
								self.Background:SetColorTexture(0.06, 0.06, 0.06, 0.8);
								self.IsOn = false;
								self.Label:SetText(Narci.L["Auto Capture"]);
							</OnLoad>
							<OnClick function="AutoCaptureButton_OnClick"/>
						</Scripts>
					</Button>
				</Frames>
				<Scripts>
					<OnLoad function="Narci_EmoteButtonPopUp_OnLoad"/>
				</Scripts>
			</Frame>

			<Frame name="Narci_XmogButtonPopUp" frameStrata="HIGH" frameLevel="8" hidden="true">
				<Size x="150" y="60"/>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativeTo="Narci_XmogButton" relativePoint="TOPLEFT" x="0" y="-20"/> <!--EndPoint 8-->
				</Anchors>
				<Frames>
					<Button name="Narci_AlwaysShowModelButton" inherits="CheckboxButtonTemplate" parentKey="ModelToggle" id="1">
						<Anchors>
							<Anchor point="TOPLEFT"  relativePoint="TOPLEFT" x="0" y="0"/>
							<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" x="0" y="0"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								self.isOn = false;
							</OnLoad>
							<OnClick function="Narci_ModelToggle_OnClick"/>
						</Scripts>
					</Button>

					<Button inherits="NarciXmogModeButtonTemplate" parentKey="ModeButton" id="2" name="Narci_XmogButtonPopUp_ModeButton">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.ModelToggle" relativePoint="BOTTOM" x="0" y="0"/> <!--EndPoint 8-->
						</Anchors>
						<Scripts>
							<OnLoad>
								self.ShowModel = false;
							</OnLoad>
							<OnClick function="Narci_XmogLayoutButton_OnClick"/>
						</Scripts>
					</Button>

					<Button inherits="NarciXmogModeButtonTemplate" parentKey="CopyButton" id="3">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.ModeButton" relativePoint="BOTTOM" x="0" y="0"/> <!--EndPoint 8-->
						</Anchors>
						<Layers>
							<Layer level="OVERLAY"  textureSubLevel="4">
								<Texture inherits="ArrowHorizontal"/>
							</Layer>
						</Layers>
						<Scripts>
							<OnLoad>
								self.IsOn = false;
								self.showItemID = false;
							</OnLoad>
							<OnClick function="Narci_CopyButton_OnClick"/>
						</Scripts>
						<Frames>
							<EditBox parentKey="GearTexts" name="Narci_GearTexts" clipChildren="false" autoFocus="true" letters="661118" multiLine="true" clampedToScreen="false" hidden="true" Alpha="0" inherits="NarciEditBoxHideTooltipTemplate">
								<Size>
									<AbsDimension x="300" y="720"/>
								</Size>
								<Anchors>
									<Anchor point="BOTTOMLEFT" relativeKey="$parent" relativePoint="BOTTOMRIGHT" x="10" y="4"/>
								</Anchors>
								<FontString justifyH="LEFT" justifyV="TOP" inherits="NarciFontMedium12" spacing="2">
									<Color r="0.88" g="0.88" b="0.88"/>
								</FontString>
								<Layers>		
									<Layer level="BACKGROUND" textureSubLevel="2">
										<Texture setAllPoints="true" hidden="false" parentKey="Background">
											<Color r="0.06" g="0.06" b="0.06" a="0.8"/>
											<Anchors>
												<Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPLEFT" x="-8" y="4"/>
												<Anchor point="BOTTOMRIGHT" relativeKey="$parent" relativePoint="BOTTOMRIGHT" x="8" y="-4"/>
											</Anchors>
										</Texture>
									</Layer>
									<Layer level="OVERLAY">
										<Texture inherits="NarciBottomShadowTemplate">
											<Size y="4"/>
											<Anchors>
												<Anchor point="TOPLEFT" relativeKey="$parent.Background" relativePoint="BOTTOMLEFT" x="0" y="0"/>
												<Anchor point="TOPRIGHT" relativeKey="$parent.Background" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
											</Anchors>
										</Texture>
									</Layer>					
								</Layers>
								<Frames>
									<Frame inherits="Narci_HeaderTemplate" parentKey="Header">
										<Anchors>
											<Anchor point="BOTTOMLEFT" relativeKey="$parent.Background" relativePoint="TOPLEFT" x="0" y="0"/>
											<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Background" relativePoint="TOPRIGHT" x="0" y="0"/>
										</Anchors>
										<Scripts>
											<OnLoad>
												self.HeaderText:SetText(NARCI_CLIPBOARD)
											</OnLoad>
										</Scripts>
									</Frame>
									<Button inherits="CheckboxButtonTemplate" parentKey="IncludeID" id="4">
										<Size>
											<AbsDimension x="200" y="20"/>
										</Size>
										<Anchors>
											<Anchor point="BOTTOMLEFT" relativeKey="$parent" relativePoint="BOTTOMRIGHT" x="10" y="76"/>
										</Anchors>
										<Layers>
											<Layer level="OVERLAY">
												<Texture inherits="NarciBottomShadowTemplate"/>
											</Layer>					
										</Layers>
										<Scripts>
											<OnLoad>
												self.Background:SetColorTexture(0.06, 0.06, 0.06, 0.8)
												self.IsOn = false;										
												self.Label:SetText(NARCI_ITEM_ID)
											</OnLoad>
											<OnClick function="IncludeIDButton_OnClick"/>
										</Scripts>
									</Button>
									<Frame inherits="Narci_HeaderTemplate" parentKey="Header3">
										<Anchors>
											<Anchor point="BOTTOMLEFT" relativeKey="$parent.IncludeID" relativePoint="TOPLEFT" x="0" y="0"/>
											<Anchor point="BOTTOMRIGHT" relativeKey="$parent.IncludeID" relativePoint="TOPRIGHT" x="0" y="0"/>
										</Anchors>
										<Scripts>
											<OnLoad>
												self.HeaderText:SetText(Narci.L["Export Includes"])
											</OnLoad>
										</Scripts>
									</Frame>
									<Button inherits="CodeTokenButtonTemplate" parentKey="Markdown" id="3">
										<Anchors>
											<Anchor point="BOTTOMLEFT" relativeKey="$parent.Header3" relativePoint="TOPLEFT" x="0" y="0"/>
											<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Header3" relativePoint="TOPRIGHT" x="0" y="0"/>
										</Anchors>
										<Frames>
											<Button inherits="WebsiteButtonTemplate" id="0" parentKey="reddit">
												<Anchors>
													<Anchor point="RIGHT" x="-8" y="0"/>
												</Anchors>
											</Button>
										</Frames>
									</Button>
									<Button inherits="CodeTokenButtonTemplate" parentKey="BBSCode" id="2">
										<Anchors>
											<Anchor point="BOTTOMLEFT" relativeKey="$parent.Markdown" relativePoint="TOPLEFT" x="0" y="0"/>
											<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Markdown" relativePoint="TOPRIGHT" x="0" y="0"/>
										</Anchors>
										<Layers>		
										</Layers>
										<Frames>
											<Button inherits="WebsiteButtonTemplate" id="3" parentKey="web4">
												<Anchors>
													<Anchor point="RIGHT" x="-8" y="0"/>
												</Anchors>
											</Button>
											<Button inherits="WebsiteButtonTemplate" id="2" parentKey="web3">
												<Anchors>
													<Anchor point="RIGHT" relativeKey="$parent.web4" relativePoint="LEFT" x="2" y="0"/>
												</Anchors>
											</Button>
											<Button inherits="WebsiteButtonTemplate" id="1" parentKey="web2">
												<Anchors>
													<Anchor point="RIGHT" relativeKey="$parent.web3" relativePoint="LEFT" x="2" y="0"/>
												</Anchors>
											</Button>
											<Button inherits="WebsiteButtonTemplate" id="4" parentKey="web1">
												<Anchors>
													<Anchor point="RIGHT" relativeKey="$parent.web2" relativePoint="LEFT" x="2" y="0"/>
												</Anchors>
											</Button>
										</Frames>
									</Button>
									<Button inherits="CodeTokenButtonTemplate" parentKey="PlainText" id="1">
										<Anchors>
											<Anchor point="BOTTOMLEFT" relativeKey="$parent.BBSCode" relativePoint="TOPLEFT" x="0" y="0"/>
											<Anchor point="BOTTOMRIGHT" relativeKey="$parent.BBSCode" relativePoint="TOPRIGHT" x="0" y="0"/>
										</Anchors>
									</Button>

									<Frame inherits="Narci_HeaderTemplate" parentKey="Header2">
										<Anchors>
											<Anchor point="BOTTOMLEFT" relativeKey="$parent.PlainText" relativePoint="TOPLEFT" x="0" y="0"/>
											<Anchor point="BOTTOMRIGHT" relativeKey="$parent.PlainText" relativePoint="TOPRIGHT" x="0" y="0"/>
										</Anchors>
										<Scripts>
											<OnLoad>
												self.HeaderText:SetText(Narci.L["Syntax"]);
											</OnLoad>
										</Scripts>
									</Frame>	
								</Frames>
								<Scripts>
									<OnShow>
										self:SetFocus()
										self:HighlightText()
									</OnShow>
									<OnTextChanged>
										local LetterNum = self:GetNumLetters()
										local w = math.max(LetterNum*10, 180)
										--self:GetParent().BlackRight:SetWidth(w)
									</OnTextChanged>
									<OnEscapePressed>
										self:SetAutoFocus(false)
										self:HighlightText(0,0)
										self:ClearFocus();
									</OnEscapePressed>
									<OnLeave>
										--SetCursor("Interface/CURSOR/Point.blp")
									</OnLeave>
								</Scripts>
							</EditBox>
						</Frames>
					</Button>

					<Frame parentKey="AnimFrame" inherits="NarciAnimContainerFrame">
						<Scripts>
							<OnUpdate function="EmoteButtonPopUp_AnimFrame_OnUpdate"/>
						</Scripts>
					</Frame>
				</Frames>
				<Scripts>
					<OnLoad function="XmogButtonPopUp_OnLoad"/>
					<OnHide>
						self.CopyButton.IsOn = false;
						self.CopyButton.GearTexts:Hide();
						self.CopyButton.GearTexts:SetAlpha(0);
					</OnHide>
				</Scripts>
			</Frame>

			<Frame parentKey="AutoHideContainer" frameStrata="LOW" enableMouse="false" enableMouseClicks="false">
				<Size>
					<AbsDimension x="380" y="180"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativeTo="UIParent" relativePoint="BOTTOMLEFT" x="0"/>
				</Anchors>
				<Layers>		
					<!--Layer level="ARTWORK" textureSubLevel="2">
						<Texture setAllPoints="true" hidden="true">
							<Color r="0" g="0" b="0" a="0.5"/>
						</Texture>
					</Layer-->
				</Layers>
				<Scripts>
					<OnEnter>
						UIFrameFadeIn(self:GetParent(), 0.2, self:GetParent():GetAlpha(), 1)
					</OnEnter>
					<OnLeave>
						if self:IsMouseOver() then return end;
						if not Narci_PhotoModeButton.IsOn then
							PhotoModeControllerBar:SetAlpha(0);
						end
						Narci_GearTexts:ClearFocus();
						Narci_GearTexts:HighlightText(0,0);
						UIFrameFadeOut(self:GetParent(), 0.2, self:GetParent():GetAlpha(), 0);
					</OnLeave>
				</Scripts>
			</Frame>	
		</Frames>
		<Scripts>
			<OnLoad function="PhotoModeController_OnLoad"/>
			<OnShow function="PhotoModeController_OnShow"/>
			<OnHide function="PhotoModeController_OnHide"/>
		</Scripts>
	</Frame>

	<Frame name="Narci_Character" setAllPoints="true" hidden="true">	
		<Frames>
			<Frame name="Narci_EquipmentFlyoutFrame" hidden="true" enableMouse="false" frameStrata="HIGH">
				<Size x="64" y="64"/>
				<Frames>
					<Frame name="$parentButtons" frameStrata="HIGH" enableMouse="true" parentKey="buttonFrame" clampedToScreen="true">
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="TOPRIGHT">
								<Offset x="0" y="0"/>
							</Anchor>
						</Anchors>
					</Frame>
				</Frames>
				<Layers>
					<Layer level="BORDER">
						<Texture setAllPoints="true" hidden="true">
							<Color r="0.4" g="0.4" b="1" a="0.6"/>
						</Texture>
					</Layer>
					<Layer level="OVERLAY">
						<Texture parentKey="Arrow" file="Interface\AddOns\Narcissus\Art\Widgets\Arrows\UnequipArrow-Yellow.tga" hidden="true"> 
							<Size x="36" y="36" />
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="LEFT" x="-32" y="5"/>
							</Anchors>
							<Animations>
								<AnimationGroup parentKey="anim" looping="REPEAT" smoothing="IN_OUT">
									<Translation parentKey="Translation" offsetY="-5" duration="0.6" order="1"/>
									<Translation parentKey="Translation" offsetY="5" duration="0.6" order="2"/>
								</AnimationGroup>
							</Animations>
						</Texture>
					</Layer>
				</Layers>	
				<Scripts>
					<OnLoad>
						self.buttons = {};
						self.slotID = -1;
					</OnLoad>
					<OnHide function="Narci_EquipmentFlyoutFrame_OnHide"/>
					<OnShow>
						self:RegisterEvent("MODIFIER_STATE_CHANGED");
						self.Arrow.anim:Play();
					</OnShow>
					<OnEvent function="Narci_EquipmentFlyoutFrame_OnEvent"/>
				</Scripts>
			</Frame>
			<Frame name="Narci_FlyoutBlack" hidden="false" frameStrata="MEDIUM" setAllPoints="true" Alpha="0" frameLevel="8">
				<Layers>
					<Layer level="BACKGROUND">
						<Texture setAllPoints="true" parentKey="Black">
							<Color r="0" g="0" b="0" a="0.5"/>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<Frame parentKey="AnimFrame" hidden="true">
						<Scripts>
							<OnLoad>
								self.OppoDirection = false;
								self.TimeSinceLastUpdate = 0;
							</OnLoad>
							<OnShow>
								self:GetParent():Show()
								self.startAlpha = self:GetParent():GetAlpha();
							</OnShow>
							<OnHide>
								self.TimeSinceLastUpdate = 0;
								self.OppoDirection = not self.OppoDirection;
							</OnHide>
							<OnUpdate function="Narci_FlyoutBlack_OnUpdate"/>
						</Scripts>
					</Frame>
				</Frames>
				<Scripts>
					<OnHide function="Narci_ShowAllInformation"/>
				</Scripts>
			</Frame>
			<Frame name="Narci_XmogNameFrame" parentKey="XmogNameFrame" Alpha="1" hidden="true" frameStrata="HIGH"  ignoreParentScale="true" scale="0.8">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="Narci_GuideLineFrame" relativePoint="TOPLEFT" x="20" y="-20"/>
				</Anchors>
				<Size x="100" y="100"/>
				<Layers>
					<Layer level="BACKGROUND" textureSubLevel="1">
						<Texture setAllPoints="true" parentKey="BlackRight">
							<Size x="240" y="60" />
							<Color r="0" g="0" b="0" a="1"/>
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent" relativePoint="CENTER"  x="20" y="0"/>
							</Anchors>
							<Gradient orientation="HORIZONTAL">
								<MinColor a="0.6" r="0" g="0" b="0"/>
								<MaxColor a="0" r="0" g="0" b="0"/>
							</Gradient>
						</Texture>
						<Texture name="Narci_FigureModelReference" parentKey="FigureModelReference">
							<Size x="140" y="100"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="OVERLAY">
						<FontString parentKey="ArmorString" inherits="NarciFontPlayerInfo" justifyH="LEFT" justifyV="TOP" text="1208 Peterodox">
							<Size x="0" y="0"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent.BlackRight" relativePoint="TOPLEFT" x="26" y="-9"/>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<Frame frameLevel="1">
						<Size x="102" y="102"/>
						<Anchors>
							<Anchor point="CENTER" x="0" y="0"/>
						</Anchors>
						<Layers>
							<Layer level="BACKGROUND" textureSubLevel="2">
								<Texture hidden="false" file="Interface\AddOns\Narcissus\Art\BasicShapes\Hexagon" Alpha="0.8">
									<Size x="80" y="80"/>
									<Anchors>
										<Anchor point="CENTER" relativeKey="$parent" x="0" y="0"/>
									</Anchors>
								</Texture>
							</Layer>
							<Layer level="BACKGROUND" textureSubLevel="3">
								<Texture parentKey="TubeBorder" file="Interface\AddOns\Narcissus\Art\Widgets\Portrait\PortraitBorder" >
									<TexCoords left="0" right="0.5" top="0" bottom="0.55859375"/>
									<Size x="91" y="102"/>
									<Anchors>
										<Anchor point="CENTER" relativeKey="$parent" x="0" y="0"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
					</Frame>
					<Frame frameLevel="3">
						<Size x="102" y="102"/>
						<Anchors>
							<Anchor point="CENTER" x="0" y="0"/>
						</Anchors>
						<Layers>
							<Layer level="BACKGROUND">
								<Texture parentKey="TubeBorder" file="Interface\AddOns\Narcissus\Art\Widgets\Portrait\PortraitBorder" >
									<TexCoords left="0.5" right="1" top="0" bottom="0.55859375"/>
									<Size x="91" y="102"/>
									<Anchors>
										<Anchor point="CENTER" relativeKey="$parent" x="0" y="0"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
					</Frame>
					<Frame parentKey="L0">
						<Size x="1" y="100"/>
						<Anchors>
							<Anchor point="50" relativeKey="$parent" relativePoint="LEFT" x="-1" y="0"/>
						</Anchors>
					</Frame>
					<Frame parentKey="C0" inherits="ModelPieceFrameTemplate">
						<Size x="20" y="50"/>
						<Anchors>
							<Anchor point="BOTTOM" relativeKey="$parent" relativePoint="BOTTOM" x="0" y="10"/>
						</Anchors>
					</Frame>
					<Frame parentKey="C1" inherits="ModelPieceFrameTemplate">
						<Size x="100" y="50"/>
						<Anchors>
							<Anchor point="BOTTOM" relativeKey="$parent.C0" relativePoint="TOP" x="0" y="-1"/>
						</Anchors>
					</Frame>
					<Frame parentKey="L1" inherits="ModelPieceFrameTemplate">
						<Size x="20" y="38"/>
						<Anchors>
							<Anchor point="BOTTOMRIGHT" relativeKey="$parent.C0" relativePoint="BOTTOMLEFT" x="0.5" y="12"/>
						</Anchors>
					</Frame>
					<Frame parentKey="L2" inherits="ModelPieceFrameTemplate">
						<Size x="8" y="34"/>
						<Anchors>
							<Anchor point="BOTTOMRIGHT" relativeKey="$parent.L1" relativePoint="BOTTOMLEFT" x="0.5" y="4"/>
						</Anchors>
					</Frame>

					<Frame parentKey="R1" inherits="ModelPieceFrameTemplate">
						<Size x="20" y="38"/>
						<Anchors>
							<Anchor point="BOTTOMLEFT" relativeKey="$parent.C0" relativePoint="BOTTOMRIGHT" x="-0.5" y="12"/>
						</Anchors>
					</Frame>
					<Frame parentKey="R2" inherits="ModelPieceFrameTemplate">
						<Size x="8" y="34"/>
						<Anchors>
							<Anchor point="BOTTOMLEFT" relativeKey="$parent.R1" relativePoint="BOTTOMRIGHT" x="-0.5" y="4"/>
						</Anchors>
					</Frame>

					<EditBox parentKey="PlayerName" clipChildren="false" autoFocus="false" letters="24" multiLine="false" name="Narci_XmogNameEditbox" inherits="NarciEditBoxHideTooltipTemplate">
						<Size>
							<AbsDimension x="400" y="24"/>
						</Size>
						<Anchors>
							<Anchor point="BOTTOMLEFT" relativeKey="$parent.BlackRight" relativePoint="BOTTOMLEFT" x="26" y="8"/>
						</Anchors>
						<FontString justifyH="LEFT" justifyV="BOTTOM"/>
						<Scripts>
							<OnLoad>
								self.tooltipHeadline = "Name Your Set -PH"
								self.tooltipLineOpen = "Left-click to modify this text."
							</OnLoad>
							<OnEnter>
								if self:GetParent():GetAlpha() ~= 1 then
									return;
								end
								Narci_ShowButtonTooltip(self);
								SetCursor("Interface/CURSOR/Cast.blp")
							</OnEnter>
							<OnTextChanged>
								NarciAPI_SmartFontType(self)
								local LetterNum = self:GetNumLetters()
								local w = math.max(LetterNum*16, 180)
								self:GetParent().BlackRight:SetWidth(w)
							</OnTextChanged>
							<OnEscapePressed>
								self:ClearFocus();
							</OnEscapePressed>
							<OnEnterPressed>
								self:ClearFocus();
							</OnEnterPressed>
							<OnLeave>
								Narci:HideButtonTooltip();
								SetCursor("Interface/CURSOR/Point.blp")
							</OnLeave>
						</Scripts>
					</EditBox>
				</Frames>
				<Scripts>
					<OnShow function="Narci_PortraitPieces_OnLoad"/>
				</Scripts>
			</Frame>

			<Button name="Narci_ChestSlot" inherits="NarciSlotButtonLeft" parentKey="ChestSlot" id="5">
				<Anchors>
					<Anchor point="LEFT" relativeTo="Narci_VirtualLineLeft" relativePoint="CENTER" x="0" y="0"/>
				</Anchors>
			</Button>

			<Button name="Narci_BackSlot" inherits="NarciSlotButtonLeft" parentKey="BackSlot" id="15">
				<Anchors>
					<Anchor point="BOTTOM" relativeKey="$parent.ChestSlot" relativePoint="TOP"  x="0" y="2" />
				</Anchors>
				<Frames>
					<ModelScene parentKey="VFX" inherits="NarciNonInteractableModelSceneTemplate" hidden="false" alpha="0.8">
						<Size x="42" y="42"/>
						<Anchors>
							<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="8" y="8"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								self:OnLoad();
								NarciAPI_SetupModelScene(self, 969794, 1);
							</OnLoad>
						</Scripts>
					</ModelScene>
				</Frames>
			</Button>

			<Button name="Narci_ShoulderSlot" inherits="NarciSlotButtonLeft" parentKey="ShoulderSlot" id="3">
				<Anchors>
					<Anchor point="BOTTOM" relativeKey="$parent.BackSlot" relativePoint="TOP"  x="0" y="2" />
				</Anchors>
			</Button>

			<Button name="Narci_NeckSlot" inherits="NarciSlotButtonLeft" parentKey="NeckSlot" id="2">
				<Anchors>
					<Anchor point="BOTTOM" relativeKey="$parent.ShoulderSlot" relativePoint="TOP"  x="0" y="2" />
				</Anchors>
				<Frames>
					<Frame name="HeartofAzeroth_AnimFrame" ignoreParentScale="false" Alpha="0" clampedToScreen="true">
						<Anchors>
							<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" x="2" y="-2"/>
						</Anchors>
						<Size x="256" y="144"/>
						<Layers>
							<Layer level="OVERLAY">
								<Texture parentKey="Sequence" file="Interface\AddOns\Narcissus\Art\Animations\HeartBox">
									<TexCoords left="0" right="0.25" top="0" bottom="0.140625"/>
									<Anchors>
										<Anchor point="TOPLEFT"/>
										<Anchor point="BOTTOMRIGHT"/>
									</Anchors>
								</Texture>
							</Layer>
							<Layer level="ARTWORK">
								<FontString parentKey="Quote" inherits="NarciFontNormal10White" justifyH="CENTER" justifyV="MIDDLE" text="NARCI_HEART_QUOTE_1" Alpha="0">
									<Size x="86" y="0"/>
									<Color r="0.8" g="0.8" b="0.8" a="1"/>
									<Anchors>
										<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="66" y="0"/>
									</Anchors>
								</FontString>
								<FontString parentKey="SN" inherits="NarciFontNormal10White" justifyH="CENTER" justifyV="MIDDLE" text=" " Alpha="0">
									<Size x="0" y="0"/>
									<Color r="0.4" g="0.4" b="0.4" a="1"/>
									<Anchors>
										<Anchor point="CENTER" relativeKey="$parent.Quote" relativePoint="CENTER" x="0" y="-48"/>
									</Anchors>
								</FontString>
							</Layer>
							<Layer level="BACKGROUND">
								<Texture parentKey="Background" file="Interface\AddOns\Narcissus\Art\Animations\HeartBox-Static" Alpha="0">
									<TexCoords left="0" right="1" top="0" bottom="0.5625"/>
									<Anchors>
										<Anchor point="TOPLEFT"/>
										<Anchor point="BOTTOMRIGHT"/>
									</Anchors>
								</Texture>
							</Layer>				
						</Layers>
					</Frame>

					<ModelScene parentKey="VFX" inherits="NonInteractableModelSceneMixinTemplate" hidden="false" alpha="0.75">
						<Size x="64" y="64"/>
						<Anchors>
							<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="1" y="-19"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								self:OnLoad();
								NarciAPI_SetupModelScene(self, 165995, 2, "LEFT");
							</OnLoad>
						</Scripts>
					</ModelScene>
				</Frames>
				<Scripts>
					<OnEnter>
						self:OnEnter();
						AnimationSequenceContainer_Heart:Hide();
						AnimationSequenceContainer_Heart:Show();
						AnimationSequenceContainer_Heart.OppoDirection = false;
					</OnEnter>
					<OnLeave>
						self:OnLeave();
						AnimationSequenceContainer_Heart:Hide();
						AnimationSequenceContainer_Heart:Show();
						AnimationSequenceContainer_Heart.OppoDirection = true
					</OnLeave>
				</Scripts>
			</Button>

			<Button name="Narci_HeadSlot" inherits="NarciSlotButtonLeft" parentKey="HeadSlot" id="1">
				<Anchors>
					<Anchor point="BOTTOM" relativeKey="$parent.NeckSlot" relativePoint="TOP" x="0" y="2" />
				</Anchors>
			</Button>

			<Button name="Narci_WristSlot" inherits="NarciSlotButtonLeft" parentKey="WristSlot" id="9">
				<Anchors>
					<Anchor point="TOP" relativeKey="$parent.ChestSlot" relativePoint="BOTTOM"  x="0" y="-2" />
				</Anchors>
			</Button>

			<Button name="Narci_MainHandSlot" inherits="NarciSlotButtonLeft" parentKey="MainHandSlot" id="16">
				<Anchors>
					<Anchor point="TOP" relativeKey="$parent.WristSlot" relativePoint="BOTTOM"  x="0" y="-2" />
				</Anchors>
			</Button>

			<Button name="Narci_SecondaryHandSlot" inherits="NarciSlotButtonLeft" parentKey="SecondaryHandSlot" id="17">
				<Anchors>
					<Anchor point="TOP" relativeKey="$parent.MainHandSlot" relativePoint="BOTTOM"  x="0" y="-2" />
				</Anchors>
			</Button>

			<Button name="Narci_ShirtSlot" inherits="NarciSlotButtonLeft" parentKey="ShirtSlot">
				<Anchors>
					<Anchor point="TOP" relativeKey="$parent.SecondaryHandSlot" relativePoint="BOTTOM"  x="0" y="-2" />
				</Anchors>
			</Button>

			<Button name="Narci_Finger0Slot" inherits="NarciSlotButtonRight" parentKey="Finger0Slot" id="11">
				<Anchors>
					<Anchor point="RIGHT" relativeTo="Narci_VirtualLineRight" relativePoint="CENTER"  x="0" y="0"/>
				</Anchors>
			</Button>

			<Button name="Narci_FeetSlot" inherits="NarciSlotButtonRight" parentKey="FeetSlot" id="8">
				<Anchors>
					<Anchor point="BOTTOM" relativeKey="$parent.Finger0Slot" relativePoint="TOP"  x="0" y="2" />
				</Anchors>
			</Button>

			<Button name="Narci_LegsSlot" inherits="NarciSlotButtonRight" parentKey="LegsSlot" id="7">
				<Anchors>
					<Anchor point="BOTTOM" relativeKey="$parent.FeetSlot" relativePoint="TOP"  x="0" y="2" />
				</Anchors>
			</Button>

			<Button name="Narci_WaistSlot" inherits="NarciSlotButtonRight" parentKey="WaistSlot" id="6">
				<Anchors>
					<Anchor point="BOTTOM" relativeKey="$parent.LegsSlot" relativePoint="TOP"  x="0" y="2" />
				</Anchors>
			</Button>

			<Button name="Narci_HandsSlot" inherits="NarciSlotButtonRight" parentKey="HandsSlot" id="10">
				<Anchors>
					<Anchor point="BOTTOM" relativeKey="$parent.WaistSlot" relativePoint="TOP" x="0" y="2" />
				</Anchors>
			</Button>

			<Button name="Narci_Finger1Slot" inherits="NarciSlotButtonRight" parentKey="Finger1Slot" id="12">
				<Anchors>
					<Anchor point="TOP" relativeKey="$parent.Finger0Slot" relativePoint="BOTTOM"  x="0" y="-2" />
				</Anchors>
			</Button>

			<Button name="Narci_Trinket0Slot" inherits="NarciSlotButtonRight" parentKey="Trinket0Slot" id="13">
				<Anchors>
					<Anchor point="TOP" relativeKey="$parent.Finger1Slot" relativePoint="BOTTOM"  x="0" y="-2" />
				</Anchors>
			</Button>

			<Button name="Narci_Trinket1Slot" inherits="NarciSlotButtonRight" parentKey="Trinket1Slot" id="14">
				<Anchors>
					<Anchor point="TOP" relativeKey="$parent.Trinket0Slot" relativePoint="BOTTOM"  x="0" y="-2" />
				</Anchors>
			</Button>

			<Button name="Narci_TabardSlot" inherits="NarciSlotButtonRight" parentKey="TabardSlot">
				<Anchors>
					<Anchor point="TOP" relativeKey="$parent.Trinket1Slot" relativePoint="BOTTOM"  x="0" y="-2" />
				</Anchors>
			</Button>
		</Frames>
		<Animations>
			<AnimationGroup parentKey="animOut">
				<Alpha fromAlpha="1" toAlpha="0" duration="0.4" order="1"/>
				<Scripts>
					<OnFinished>
						self:GetParent():Hide();
					</OnFinished>
				</Scripts>
			</AnimationGroup>
			<AnimationGroup parentKey="AutoStand">
				<Translation startDelay="23" duration="0" order="1"/>
				<Scripts>
					<OnFinished>
						DoEmote("Stand", "none");
						self:Play();
					</OnFinished>
				</Scripts>
			</AnimationGroup>
		</Animations>
		<Scripts>
			<OnShow>
				self:StopAnimating();
			</OnShow>
			<OnHide>
				self:Hide();
				Narci_FlyoutBlack:SetAlpha(0)
				Narci_FlyoutBlack.AnimFrame.OppoDirection = false;
				self:StopAnimating();
			</OnHide>
		</Scripts>
	</Frame>

	<Frame name="Narci_Attribute" hidden="true" frameStrata="MEDIUM" frameLevel="8">
        <Anchors>
			<Anchor point="BOTTOMRIGHT" relativeTo="Narci_GuideLineFrame" relativePoint="BOTTOMRIGHT"/>
			<Anchor point="TOPLEFT" relativeTo="Narci_Finger0Slot" relativePoint="RIGHT" y="292"/>
        </Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture setAllPoints="true" hidden="true">
					<Color r="0.64" g="0.21" b="0.93" a="0.5"/>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Frame name="Narci_PlayerInfoFrame" parentKey="PlayerInfo" frameLevel="20">
				<Size>
					<AbsDimension x="200" y="40"/>
				</Size>
				<Anchors>
					<Anchor point="TOP" relativeKey="$parent" relativePoint="TOP" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<FontString parentKey="Miscellaneous" inherits="NarciFontPlayerInfo" justifyH="CENTER" justifyV="BOTTOM" text="1208 Peterodox">
							<Size x="0" y="0"/>
							<Anchors>
								<Anchor point="BOTTOM" relativeKey="$parent" relativePoint="BOTTOM" x="0" y="0"/>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<EditBox parentKey="PlayerName" clipChildren="false" autoFocus="false" letters="24" multiLine="false" name="Narci_PlayerNameEditbox" inherits="NarciEditBoxHideTooltipTemplate">
						<Size>
							<AbsDimension x="400" y="24"/>
						</Size>
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent" relativePoint="TOP" x="0" y="0"/>
						</Anchors>
						<FontString justifyH="CENTER" justifyV="TOP"/>
						<Scripts>
							<OnShow>
								local LetterNum = self:GetNumLetters()
								local w = math.max(LetterNum*16, 180)
								self:SetWidth(w);
							</OnShow>
							<OnEnter>
								if self:GetParent():GetAlpha() ~= 1 then
									return;
								end
								if self:IsEnabled() then
									SetCursor("Interface/CURSOR/Cast.blp")
								end
							</OnEnter>
							<OnTextChanged>
								NarciAPI_SmartFontType(self)
								local LetterNum = self:GetNumLetters()
								local w = math.max(LetterNum*16, 160)
								self:SetWidth(w);
							</OnTextChanged>
							<OnEscapePressed>
								self:ClearFocus();
								self:HighlightText(0,0);
								local text = strtrim(self:GetText());
								self:SetText(text);
								NarcissusDB_PC.PlayerAlias = text;
							</OnEscapePressed>
							<OnEnterPressed>
								self:ClearFocus();
								self:HighlightText(0,0);
								local text = strtrim(self:GetText());
								self:SetText(text);
								NarcissusDB_PC.PlayerAlias = text;
							</OnEnterPressed>
							<OnLeave>
								Narci:HideButtonTooltip();
								SetCursor("Interface/CURSOR/Point.blp")
							</OnLeave>
							<OnHide>
								self:ClearFocus();
								self:HighlightText(0,0);
							</OnHide>
						</Scripts>
						<Frames>
							<Button name="Narci_AliasButton" parentKey="TooltipFrame" Alpha="0">
								<Size x="160" y="20"/>
								<Anchors>
									<Anchor point="BOTTOM" relativeKey="$parent" relativePoint="TOP" x="0" y="4"/>
								</Anchors>
								<ButtonText inherits="NarciFontNormal10" justifyH="CENTER" maxLines="1" parentKey="Label">
									<Size x="0" y="0"/>
									<Color r="0.25" g="0.78" b="0.92" a="1"/>
									<Anchors>
										<Anchor point="CENTER" x="0" y="0"/>
									</Anchors>
								</ButtonText>
								<Layers>
									<Layer level="BACKGROUND" textureSubLevel="10">
										<Texture parentKey="Background" setAllPoints="true">
											<Size y="20"/>
											<Anchors>
												<Anchor point="LEFT" relativeKey="$parent.Label" relativePoint="LEFT" x="-6"/>
												<Anchor point="RIGHT" relativeKey="$parent.Label" relativePoint="RIGHT" x="6"/>
											</Anchors>
											<Color a="0.4" r="1" g="1" b="1"/>
											<Gradient orientation="VERTICAL">
												<MinColor a="1" r="0.0" g="0.0" b="0.0"/>
												<MaxColor a="1" r="0.1" g="0.1" b="0.1"/>
											</Gradient>
										</Texture>
									</Layer>
									<Layer level="BORDER">
										<Texture parentKey="Highlight" setAllPoints="true" hidden="true">
											<Anchors>
												<Anchor point="TOPLEFT" relativeKey="$parent.Background" relativePoint="TOPLEFT"/>
												<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Background" relativePoint="BOTTOMRIGHT"/>
											</Anchors>
											<Color a="1" r="1" g="1" b="1"/>
											<Gradient orientation="VERTICAL">
												<MinColor a="1" r="0.65" g="0.65" b="0.65"/>
												<MaxColor a="1" r="1" g="1" b="1"/>
											</Gradient>
										</Texture>
									</Layer> 
								</Layers>
								<Scripts>
									<OnLoad>
										self:SetWidth(self.Label:GetWidth()+12)
									</OnLoad>
									<OnEnter>
										self.Label:SetTextColor(0, 0, 0);
										self.Label:SetShadowColor(1, 1, 1);
										self.Highlight:Show();
									</OnEnter>
									<OnLeave>
										self.Label:SetTextColor(0.25, 0.78, 0.92);
										self.Label:SetShadowColor(0, 0, 0);
										self.Highlight:Hide();
									</OnLeave>
									<OnHide>
										self:SetAlpha(0)
										self.Label:SetTextColor(0.25, 0.78, 0.92);
										self.Label:SetShadowColor(0, 0, 0);
										self.Highlight:Hide();
									</OnHide>
									<OnClick function="Narci_AliasButton_OnClick"/>
								</Scripts>
							</Button>
						</Frames>
					</EditBox>

					<Frame parentKey="MouseOverFrame" frameLevel="20">
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPLEFT" x="-80" y="60"/>
							<Anchor point="BOTTOMRIGHT" relativeKey="$parent" relativePoint="BOTTOMRIGHT" x="80" y="-40"/>
						</Anchors>
							<Layers>
								<Layer level="BACKGROUND" textureSubLevel="10">
									<Texture parentKey="Background" setAllPoints="true" hidden="true">
										<Color a="1" r="0" g="0" b="1"/>
									</Texture>
								</Layer>
							</Layers>
						<Scripts>
							<OnEnter>
								local TooltipFrame = self:GetParent().PlayerName.TooltipFrame;
                				UIFrameFadeIn(TooltipFrame, 0.15, TooltipFrame:GetAlpha(), 1);
							</OnEnter>
							<OnLeave>
								Narci:HideButtonTooltip();
								SetCursor("Interface/CURSOR/Point.blp")
								local TooltipFrame = self:GetParent().PlayerName.TooltipFrame;
								--print("leave")
								if not self:IsMouseOver() then
									UIFrameFadeOut(TooltipFrame, 0.15, TooltipFrame:GetAlpha(), 0);
									Narci_PlayerInfoFrame.PlayerName:HighlightText(0,0)
									if NarcissusDB_PC.UseAlias then
										local editBox = Narci_PlayerInfoFrame.PlayerName;
										local text = strtrim(editBox:GetText());
										editBox:SetText(text);
										NarcissusDB_PC.PlayerAlias = text;
									end
									Narci_PlayerInfoFrame.PlayerName:ClearFocus()
								end
							</OnLeave>
						</Scripts>
					</Frame>
				</Frames>	
				<Scripts>
					<OnLoad function="Narci_SetPlayerName"/>
				</Scripts>
			</Frame>		
			<Frame name="Narci_IlvlInfoFrame" parentKey="IlvlInfoFrame">
				<Size>
					<AbsDimension x="200" y="100"/>
				</Size>
				<Anchors>
					<Anchor point="TOP" relativeKey="$parent.PlayerInfo" relativePoint="BOTTOM" y="-24"/>
				</Anchors>
				<Frames>
					<Button parentKey="IlvlButtonCenter">
						<Size x="102" y="102"/>
						<HitRectInsets>
							<AbsInset left="10" right="10" top="10" bottom="10"/>
						</HitRectInsets>
						<Anchors>
							<Anchor point="CENTER" relativeKey="$parent" x="0" y="0"/>
						</Anchors>
						<Layers>					
							<Layer level="ARTWORK">
								<Texture parentKey="IvlBackground" hidden="false" file="Interface\AddOns\Narcissus\Art\Solid\HexagonSolid-Purple">
									<Size x="80" y="80"/>
									<Anchors>
										<Anchor point="CENTER" relativeKey="$parent" x="0" y="0"/>
									</Anchors>
								</Texture>
								<Texture parentKey="Reference">
									<Size x="80" y="80"/>
									<Anchors>
										<Anchor point="CENTER" relativeKey="$parent" x="0" y="0"/>
									</Anchors>
								</Texture>
								<Texture setAllPoints="true" parentKey="Fluid">
									<Size x="100" y="42" />
									<Color r="0.64" g="0.21" b="0.93" a="1"/>
									<Anchors>
										<Anchor point="BOTTOM" relativeKey="$parent.Reference" relativePoint="BOTTOM"  x="0" y="-3"/>
									</Anchors>
								</Texture>
								<Texture setAllPoints="true" parentKey="Surface" alphaMode="ADD">
									<Size x="100" y="2" />
									<Anchors>
										<Anchor point="TOP" relativeKey="$parent.Fluid" relativePoint="TOP"  x="0" y="0"/>
									</Anchors>
									<Color r="1" g="1" b="1" a="0.8"/>
									<Gradient orientation="VERTICAL">
										<MinColor a="0" r="1" g="1" b="1"/>
										<MaxColor a="1" r="1" g="1" b="1"/>
									</Gradient>
								</Texture>
								<MaskTexture file="Interface\AddOns\Narcissus\Art\Widgets\ItemLevel\HexagonTube-Mask" hWrapMode="CLAMPTOBLACKADDITIVE" vWrapMode="CLAMPTOBLACKADDITIVE">
									<Size>
										<AbsDimension x="91" y="91"/>
									</Size>
									<Anchors>
										<Anchor point="CENTER"/>
									</Anchors>
									<MaskedTextures>
										<MaskedTexture childKey="Fluid"/>
										<MaskedTexture childKey="Surface"/>
									</MaskedTextures>
								</MaskTexture>
							</Layer>
							<Layer level="ARTWORK" textureSubLevel="2">
								<Texture file="Interface\AddOns\Narcissus\Art\Widgets\CorruptionSystem\Eyelid" hidden="true" parentKey="Eyelid" nounload="true">
									<TexCoords left="0" right="0.125" top="0" bottom="1"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativeKey="$parent.IvlBackground" relativePoint="TOPLEFT"/>
										<Anchor point="BOTTOMRIGHT" relativeKey="$parent.IvlBackground" relativePoint="BOTTOMRIGHT"/>
									</Anchors>
									<Animations>
										<AnimationGroup parentKey="Blink">
											<Scale duration="0.02"/>
											<Scripts>
												<OnPlay>
													self.s = self.s or 1;
													local s = self.s;
													if s > 8 then
														s = 17 - s;
													end
													self:GetParent():SetTexCoord( (s-1)*0.125, s*0.125, 0, 1);
												</OnPlay>
												<OnFinished>
													self.s = self.s + 1;
													if self.s > 16 then
														self.s = 1;
													elseif self.s == 8 then
														local t = self.texID;
														self:GetParent():GetParent().IvlBackground:SetTexCoord( (t-1)*0.125, t*0.125, 0, 1);
														self:Play();
													else
														self:Play();
													end
												</OnFinished>
												<OnStop>
													self.s = 1;
													self:GetParent():SetTexCoord(0, 0.125, 0, 1);
												</OnStop>
											</Scripts>
										</AnimationGroup>
									</Animations>
								</Texture>
							</Layer>
							<Layer level="BACKGROUND" textureSubLevel="3">
								<Texture file="Interface\AddOns\Narcissus\Art\Widgets\ItemLevel\HexagonTube" hidden="false">
									<TexCoords left="0.5625" right="1" top="0" bottom="0.55859375"/>
									<Size x="81" y="102"/>
									<Anchors>
										<Anchor point="CENTER" relativeKey="$parent" x="0" y="0"/>
									</Anchors>
								</Texture>
							</Layer>
							<Layer level="OVERLAY" textureSubLevel="2">
								<Texture parentKey="TubeBorder" file="Interface\AddOns\Narcissus\Art\Widgets\ItemLevel\HexagonTube" >
									<TexCoords left="0" right="0.5625" top="0" bottom="0.55859375"/>
									<Size x="102" y="102"/>
									<Anchors>
										<Anchor point="CENTER" relativeKey="$parent" x="0" y="0"/>
									</Anchors>
								</Texture>
							</Layer>		
							<Layer level="OVERLAY" textureSubLevel="1">
								<Texture parentKey="Highlight" hidden="true" file="Interface\AddOns\Narcissus\Art\Solid\HexagonSolid-Highlight" alphaMode="ADD" Alpha="0">
									<Size x="100" y="100"/>
									<Anchors>
										<Anchor point="CENTER" relativeKey="$parent" x="0" y="0"/>
									</Anchors>
									<Animations>
										<AnimationGroup parentKey="Bling" looping="NONE" smoothing="IN_OUT">
											<Alpha fromAlpha="0" toAlpha="1" duration="0.4" order="1"/>
											<Alpha fromAlpha="1" toAlpha="1" duration="0.2" order="2"/>
											<Alpha fromAlpha="1" toAlpha="0" duration="1.4" order="3"/>
											<Scripts>
												<OnPlay>
													PlaySound(54133);
													self:GetParent():Show();
												</OnPlay>
												<OnFinished>
													self:GetParent():Hide();
												</OnFinished>
											</Scripts>
										</AnimationGroup>
									</Animations>
								</Texture>
								<FontString parentKey="PlayerItemLvl" inherits="NarciFontNumber24" justifyH="CENTER" justifyV="MIDDLE" text="N/A">
									<Size x="0" y="0"/>
									<Anchors>
										<Anchor point="CENTER" relativeKey="$parent.Reference" relativePoint="CENTER" x="0" y="-4"/>
									</Anchors>
								</FontString>
								<FontString inherits="NarciFontSemplicita9" justifyH="CENTER" justifyV="BOTTOM" text="MAX" parentKey="Header">
									<Size x="0" y="0"/>
									<Anchors>
										<Anchor point="BOTTOM" relativeKey="$parent.PlayerItemLvl" relativePoint="TOP" x="0" y="2"/>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
						<Frames>
							<!--Frame parentKey="CorruptionEffect">
								<Size x="250" y="250"/>
								<Anchors>
									<Anchor point="CENTER" relativeKey="$parent"/>
								</Anchors>
								<Frames>
									<ModelScene parentKey="Effect" useParentLevel="false" drawLayer="OVERLAY" alpha="0" inherits="NarciNonInteractableModelSceneTemplate">
										<Size x="250" y="250"/>
										<Anchors>
											<Anchor point="CENTER" relativeKey="$parent" />
										</Anchors>
									</ModelScene>
								</Frames>
								<Animations>
									<AnimationGroup parentKey="Bling">
										<Alpha duration="1" fromAlpha="1" toAlpha="1" order="1"/>
										<Scripts>
											<OnPlay>
												local Effect = self:GetParent().Effect;
												Effect:Show();
												Effect:SetAlpha(1);
												local TOAST_MODEL_SCENE_INFO = StaticModelInfo.CreateModelSceneEntry(111, 3152608, 3152608);
												StaticModelInfo.SetupModelScene(Effect, TOAST_MODEL_SCENE_INFO, true);
											</OnPlay>
											<OnFinished>
												self:GetParent().Effect:Hide();
											</OnFinished>
										</Scripts>
									</AnimationGroup>
								</Animations>
							</Frame-->
						</Frames>
						<Scripts>
							<OnMouseDown>
								self.IvlBackground:SetPoint("CENTER", 0, -4);
								if self.isCorrupted then
									NarciAPI_FadeFrame(Narci_CorruptionTooltip, 0.2, "OUT");
								end
							</OnMouseDown>
							<OnMouseUp>
								self.IvlBackground:SetPoint("CENTER", 0, 0);
							</OnMouseUp>							
							<OnEnter function="Narci_SolidHexagonButton_OnEnter"/>
							<OnLeave>
								UIFrameFadeOut(self.Highlight, 0.3, self.Highlight:GetAlpha(), 0);
								Narci:HideButtonTooltip();
								if self.isCorrupted then
									local corruptionTooltip = Narci_CorruptionTooltip;
									if not corruptionTooltip:IsMouseOver(40, 0 ,0, 0) then
										NarciAPI_FadeFrame(corruptionTooltip, 0.2, "OUT");
									end
								end
							</OnLeave>
							<!--See Widget/EquipmentManager.lua for OnClick function-->
							<OnHide>
								self:StopAnimating();
							</OnHide>
						</Scripts>
					</Button>

					<Button parentKey="IlvlButtonLeft" hidden="true">
						<Size x="76" y="76"/>
						<Anchors>
							<Anchor point="RIGHT" relativeKey="$parent.IlvlButtonCenter" relativePoint="LEFT"  x="76" y="0"/>
						</Anchors>
						<Layers>
							<Layer level="BACKGROUND">
								<Texture parentKey="BlackLeft" hidden="false" file="Interface\AddOns\Narcissus\Art\Widgets\ItemLevel\HexagonTube"> 
									<TexCoords left="0.5625" right="1" top="0.55859375" bottom="1"/>
									<Size x="76" y="76" />
									<Anchors>
										<Anchor point="CENTER" x="0" y="0"/>
									</Anchors>
								</Texture>
								<Texture parentKey="Highlight" file="Interface\AddOns\Narcissus\Art\Widgets\ItemLevel\HexagonTube" Alpha="0"> 
									<TexCoords left="0" right="0.44140625" top="0.55859375" bottom="1"/>
									<Size x="76" y="76" />
									<Anchors>
										<Anchor point="CENTER" x="0" y="0"/>
									</Anchors>
								</Texture>
							</Layer>
							<Layer level="BACKGROUND" textureSubLevel="2">
								<FontString parentKey="PlayerItemLvlEquipped" inherits="NarciFontNumber12" justifyH="CENTER" justifyV="MIDDLE" text="128" hidden="false">
									<Size x="0" y="0"/>
									<Anchors>
										<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0"/>
										<Anchor point="BOTTOM" relativeKey="$parent.$parent.IlvlButtonCenter.PlayerItemLvl" relativePoint="BOTTOM" y="3"/>
									</Anchors>
								</FontString>
								<FontString inherits="NarciFontSemplicita9" justifyH="CENTER" justifyV="BOTTOM" text="EA" hidden="false">
									<Size x="0" y="0"/>
									<Anchors>
										<Anchor point="BOTTOM" relativeKey="$parent.PlayerItemLvlEquipped" relativePoint="TOP" x="0" y="2"/>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
						<Frames>
							<Frame parentKey="AnimFrame" inherits="NarciAnimContainerFrame">
								<Scripts>
									<OnUpdate function="IlvlButtonLeftAnimFrame_OnUpdate"/>
								</Scripts>
							</Frame>
						</Frames>
						<Scripts>
							<OnLoad>
								self.tooltipFormat = Narci.L["Equipped Item Level Format"];
								self.tooltipLineOpen = Narci.L["Equipped Item Level Tooltip"];
							</OnLoad>
							<OnEnter>
								self.tooltipHeadline = format(self.tooltipFormat, self.PlayerItemLvlEquipped:GetText());
								Narci_ShowButtonTooltip(self);
								UIFrameFadeIn(self.Highlight, 0.15, self.Highlight:GetAlpha(), 1);
							</OnEnter>
							<OnLeave>
								Narci:HideButtonTooltip();
								UIFrameFadeOut(self.Highlight, 0.25, self.Highlight:GetAlpha(), 0);
							</OnLeave>
							<OnHide>
								self.Highlight:SetAlpha(0);
							</OnHide>
						</Scripts>
					</Button>

					<Button parentKey="IlvlButtonRight" hidden="true">
						<Size x="76" y="76"/>
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.IlvlButtonCenter" relativePoint="RIGHT"  x="-76" y="0"/>
						</Anchors>
						<Layers>
							<Layer level="BACKGROUND">
								<Texture parentKey="BlackRight" hidden="false" file="Interface\AddOns\Narcissus\Art\Widgets\ItemLevel\HexagonTube"> 
									<TexCoords left="1" right="0.5625" top="0.55859375" bottom="1"/>
									<Size x="76" y="76" />
									<Anchors>
										<Anchor point="CENTER" x="0" y="0"/>
									</Anchors>
								</Texture>
								<Texture parentKey="Highlight" file="Interface\AddOns\Narcissus\Art\Widgets\ItemLevel\HexagonTube" Alpha="0"> 
									<TexCoords left="0.44140625" right="0" top="0.55859375" bottom="1"/>
									<Size x="76" y="76" />
									<Anchors>
										<Anchor point="CENTER" x="0" y="0"/>
									</Anchors>
								</Texture>
							</Layer>
							<Layer level="BACKGROUND" textureSubLevel="2">
								<FontString parentKey="Number" inherits="NarciFontNumber12" justifyH="CENTER" justifyV="MIDDLE" text="0" hidden="false">
									<Size x="0" y="0"/>
									<Anchors>
										<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0"/>
										<Anchor point="BOTTOM" relativeKey="$parent.$parent.IlvlButtonCenter.PlayerItemLvl" relativePoint="BOTTOM" y="3"/>
									</Anchors>
								</FontString>
								<FontString inherits="NarciFontSemplicita9" justifyH="CENTER" justifyV="BOTTOM" text="TC" hidden="false" parentKey="Header">
									<Size x="0" y="0"/>
									<Anchors>
										<Anchor point="BOTTOM" relativeKey="$parent.Number" relativePoint="TOP" x="0" y="2"/>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
						<Frames>
							<Frame parentKey="AnimFrame" inherits="NarciAnimContainerFrame">
								<Scripts>
									<OnUpdate function="IlvlButtonRightAnimFrame_OnUpdate"/>
								</Scripts>
							</Frame>
						</Frames>
						<Scripts>
							<OnLoad>
								self.tooltipHeadline = format("Total Corruption");
								self.tooltipLineOpen = Narci.L["No Corrupted Item"];
							</OnLoad>
							<OnEnter>
								Narci_ShowButtonTooltip(self);
								UIFrameFadeIn(self.Highlight, 0.15, self.Highlight:GetAlpha(), 1);
							</OnEnter>
							<OnLeave>
								Narci:HideButtonTooltip();
								UIFrameFadeOut(self.Highlight, 0.25, self.Highlight:GetAlpha(), 0);
							</OnLeave>
							<OnHide>
								self.Highlight:SetAlpha(0);
							</OnHide>
						</Scripts>
					</Button>
				</Frames>
				<Scripts>

				</Scripts>	
			</Frame>
			<Frame name="Narci_DetailedStatFrame" setAllPoints="true" hidden="false" Alpha="0">
				<Frames>
					<Frame inherits="Narci_DetailedAttributeTemplateLeft" name="ADPrimary" parentKey="Primary" id="1" hidden="false">
						<Anchors>
							<Anchor point="TOPRIGHT" relativeKey="$parent.$parent.IlvlInfoFrame.IvlBackground" relativePoint="BOTTOM" x="0" y="-24"/>
						</Anchors>	
					</Frame>
					<Frame inherits="Narci_DetailedAttributeTemplateLeft" name="ADStamina" parentKey="Stamina" id="2" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Primary" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_DetailedAttributeTemplateLeft" name="ADDamage" parentKey="Damage" id="3" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Stamina" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_DetailedAttributeTemplateLeft" name="ADAttackSpeed" parentKey="AttackSpeed" id="4" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Damage" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_DetailedAttributeTemplateLeft" name="ADEnergy" parentKey="Energy" id="5" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.AttackSpeed" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_DetailedAttributeTemplateLeft" name="ADRegen" parentKey="Regen" id="6" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Energy" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>

					<Frame inherits="Narci_DetailedAttributeTemplateRight" name="ADHealth" parentKey="Health" id="1" hidden="false">
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.Primary" relativePoint="RIGHT"  x="0" y="0"/>
						</Anchors>		
					</Frame>
					<Frame inherits="Narci_DetailedAttributeTemplateRight" name="ADArmor" parentKey="Armor" id="2" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Health" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_DetailedAttributeTemplateRight" name="ADReduction" parentKey="Reduction" id="3" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Armor" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_DetailedAttributeTemplateRight" name="ADDodge" parentKey="Dodge" id="4" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Reduction" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_DetailedAttributeTemplateRight" name="ADParry" parentKey="Parry" id="5" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Dodge" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_DetailedAttributeTemplateRight" name="ADBlock" parentKey="Block" id="6" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Parry" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>
				</Frames>
			</Frame>

			<Frame parentKey="RadarChart" name="Narci_RadarChartFrame" inherits="Narci_RadarTemplate" frameLevel="10" mixin="NarciRadarChartMixin">
				<Size>
					<AbsDimension x="96" y="96"/>
				</Size>
				<Anchors>
					<Anchor point="TOP" relativeTo="ADRegen" relativePoint="BOTTOMRIGHT"  x="0" y="-26"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Border" Alpha="0.9" hidden="false">
							<TexCoords left="0" right="0.625" top="0" bottom="0.625"/>
							<Size x="98" y="98"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="ARTWORK" textureSubLevel="2">
						<Texture setAllPoints="true" parentKey="MaskedBackground" Alpha="0.4">
							<Size x="100" y="100" />
							<Anchors>
								<Anchor point="CENTER" x="0" y="0"/>
							</Anchors>
							<Color r="1" g="1" b="1" a="1"/>
						</Texture>
						<Texture setAllPoints="true" parentKey="MaskedBackground2" Alpha="0.4">
							<Size x="100" y="100" />
							<Anchors>
								<Anchor point="CENTER" x="0" y="0"/>
							</Anchors>
							<Color r="1" g="1" b="1" a="1"/>
						</Texture>
						<MaskTexture parentKey="Mask1" file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Mask-2Square" hWrapMode="CLAMPTOBLACK" vWrapMode="CLAMPTOBLACK" rotation="0">
							<Size>
								<AbsDimension x="200" y="200"/>
							</Size>
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
							<MaskedTextures>
								<MaskedTexture childKey="MaskedBackground"/> 
							</MaskedTextures>
						</MaskTexture>
						<MaskTexture parentKey="Mask2" file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Mask-2Square" hWrapMode="CLAMPTOBLACK" vWrapMode="CLAMPTOBLACK" rotation="0">
							<Size>
								<AbsDimension x="400" y="400"/>
							</Size>
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
							<MaskedTextures>
								<MaskedTexture childKey="MaskedBackground"/>
							</MaskedTextures>
						</MaskTexture>
						<MaskTexture parentKey="Mask3" file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Mask-2Square" hWrapMode="CLAMPTOBLACK" vWrapMode="CLAMPTOBLACK" rotation="0">
							<Size>
								<AbsDimension x="400" y="400"/>
							</Size>
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
							<MaskedTextures>
								<MaskedTexture childKey="MaskedBackground2"/>
							</MaskedTextures>
						</MaskTexture>
						<MaskTexture parentKey="Mask4" file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Mask-2Square" hWrapMode="CLAMPTOBLACK" vWrapMode="CLAMPTOBLACK" rotation="0">
							<Size>
								<AbsDimension x="400" y="400"/>
							</Size>
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
							<MaskedTextures>
								<MaskedTexture childKey="MaskedBackground2"/>
							</MaskedTextures>
						</MaskTexture>
						<MaskTexture parentKey="MaskHalf1" file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Mask2" hWrapMode="CLAMPTOBLACK" vWrapMode="CLAMPTOBLACK">
							<Size>
								<AbsDimension x="100" y="100"/>
							</Size>
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
							<MaskedTextures>
								<MaskedTexture childKey="MaskedBackground"/>
							</MaskedTextures>
						</MaskTexture>
						<MaskTexture parentKey="MaskHalf2" file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Mask2" hWrapMode="CLAMPTOBLACK" vWrapMode="CLAMPTOBLACK" rotation="180">
							<Size>
								<AbsDimension x="100" y="100"/>
							</Size>
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
							<MaskedTextures>
								<MaskedTexture childKey="MaskedBackground2"/>
							</MaskedTextures>
						</MaskTexture>


					</Layer>
					<Layer level="ARTWORK" textureSubLevel="1">
						<Line setAllPoints="true" thickness="1" parentKey="Diagonal1" Alpha="0.8">
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
							</Anchors>
							<Color r="0" g="0" b="0" a="0.6"/>
							<StartAnchor relativeKey="$parent" relativePoint="TOPLEFT" x="1" y="-1"/>
							<EndAnchor relativeKey="$parent" relativePoint="BOTTOMRIGHT" x="-1" y="1"/>
						</Line>
						<Line setAllPoints="true" thickness="1" parentKey="Diagonal2" Alpha="0.8">
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
							</Anchors>
							<Color r="0" g="0" b="0" a="0.6"/>
							<StartAnchor relativeKey="$parent" relativePoint="TOPRIGHT" x="-1" y="-1"/>
							<EndAnchor relativeKey="$parent" relativePoint="BOTTOMLEFT" x="1" y="1"/>
						</Line>
					</Layer>
					<Layer level="OVERLAY" textureSubLevel="1"> <!--Line of Ratings-->
						<Texture setAllPoints="true" parentKey="MaskedLine1" Alpha="0.8">
							<Size x="100" y="100" />
							<Anchors>
								<Anchor point="CENTER" x="0" y="0"/>
							</Anchors>
							<Color r="1" g="1" b="1" a="1"/>
						</Texture>
						<Texture setAllPoints="true" parentKey="MaskedLine2" Alpha="0.8">
							<Size x="100" y="100" />
							<Anchors>
								<Anchor point="CENTER" x="0" y="0"/>
							</Anchors>
							<Color r="1" g="1" b="1" a="1"/>
						</Texture>
						<Texture setAllPoints="true" parentKey="MaskedLine3" Alpha="0.8">
							<Size x="100" y="100" />
							<Anchors>
								<Anchor point="CENTER" x="0" y="0"/>
							</Anchors>
							<Color r="1" g="1" b="1" a="1"/>
						</Texture>
						<Texture setAllPoints="true" parentKey="MaskedLine4" Alpha="0.8">
							<Size x="100" y="100" />
							<Anchors>
								<Anchor point="CENTER" x="0" y="0"/>
							</Anchors>
							<Color r="1" g="1" b="1" a="1"/>
						</Texture>
						<MaskTexture parentKey="MaskLine1" file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Mask-Line" hWrapMode="CLAMPTOBLACKADDITIVE" vWrapMode="CLAMPTOBLACKADDITIVE">
							<Size>
								<AbsDimension x="200" y="200"/>
							</Size>
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
							<MaskedTextures>
								<MaskedTexture childKey="MaskedLine1"/>
							</MaskedTextures>
						</MaskTexture>
						<MaskTexture parentKey="MaskLine2" file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Mask-Line" hWrapMode="CLAMPTOBLACKADDITIVE" vWrapMode="CLAMPTOBLACKADDITIVE">
							<Size>
								<AbsDimension x="200" y="200"/>
							</Size>
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
							<MaskedTextures>
								<MaskedTexture childKey="MaskedLine2"/>
							</MaskedTextures>
						</MaskTexture>
						<MaskTexture parentKey="MaskLine3" file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Mask-Line" hWrapMode="CLAMPTOBLACKADDITIVE" vWrapMode="CLAMPTOBLACKADDITIVE">
							<Size>
								<AbsDimension x="200" y="200"/>
							</Size>
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
							<MaskedTextures>
								<MaskedTexture childKey="MaskedLine3"/>
							</MaskedTextures>
						</MaskTexture>
						<MaskTexture parentKey="MaskLine4" file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Mask-Line" hWrapMode="CLAMPTOBLACKADDITIVE" vWrapMode="CLAMPTOBLACKADDITIVE">
							<Size>
								<AbsDimension x="200" y="200"/>
							</Size>
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
							<MaskedTextures>
								<MaskedTexture childKey="MaskedLine4"/>
							</MaskedTextures>
						</MaskTexture>
					</Layer>
				</Layers>
				<Frames>
					<Frame inherits="Narci_DetailedAttributeTemplateShortLeft" name="ADCrit" parentKey="crit" id="8" hidden="false">
						<Anchors>
							<Anchor point="TOPRIGHT" relativeKey="$parent" relativePoint="TOPLEFT" x="0" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_DetailedAttributeTemplateShortLeft" name="ADHaste" parentKey="haste" id="10" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.crit" relativePoint="BOTTOM" x="0" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_DetailedAttributeTemplateShortRight" name="ADMastery" parentKey="mastery" id="8" hidden="false">
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPRIGHT" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_DetailedAttributeTemplateShortRight" name="ADVersatility" parentKey="versatility" id="10" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.mastery" relativePoint="BOTTOM" x="0" y="0"/>
						</Anchors>
					</Frame>
				</Frames>
				<Animations>
					<AnimationGroup parentKey="animIn" smoothing="OUT">
						<Alpha parentKey="A1" fromAlpha="0" toAlpha="0" duration="0.2" order="1"/>
						<Alpha parentKey="A2" startDelay="0.45" fromAlpha="0" toAlpha="1" duration="0.5" order="2"/><!--0.75-->
						<Scripts>
							<OnPlay>
								local parent = self:GetParent();
								parent:SetAlpha(0);
								C_Timer.After(0.7, function()
									parent:AnimateValue();
								end)
							</OnPlay>
							<OnFinished>
								self:GetParent():SetAlpha(1);
							</OnFinished>
						</Scripts>
					</AnimationGroup>
				</Animations>
				<Scripts>
					<OnLoad method="OnLoad"/>
					<OnShow method="OnShow"/>
					<OnHide method="OnHide"/>
				</Scripts>
			</Frame>

			<Frame inherits="Narci_DetailedAttributeTemplateLeft" name="ADLeech" parentKey="Leech" id="11" hidden="false" parent="Narci_DetailedStatFrame">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="ADHaste" relativePoint="BOTTOMLEFT"  x="0" y="-26"/>
				</Anchors>	
				<Layers>
					<Layer level="BORDER">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Border"  hidden="true">
							<TexCoords left="0" right="0.87890625" top="0.94921875" bottom="1"/>
							<Size x="160" y="9"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="TOP" x="0" y="2"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="ARTWORK">
						<Texture inherits="RectTopLeftCorner" hidden="true"/>
					</Layer>
				</Layers>
			</Frame>

			<Frame inherits="Narci_DetailedAttributeTemplateRight" name="ADAvoidance" parentKey="Avoidance" id="11" hidden="false" parent="Narci_DetailedStatFrame">
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent.Leech" relativePoint="RIGHT"  x="0" y="0"/>
				</Anchors>	
				<Layers>
					<Layer level="BORDER">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Border"  hidden="true">
							<TexCoords left="0.87890625" right="0" top="0.94921875" bottom="1"/>
							<Size x="160" y="9"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="TOP" x="0" y="2"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="ARTWORK">
						<Texture inherits="RectTopRightCorner" hidden="true"/>
					</Layer>
				</Layers>		
			</Frame>

			<Frame inherits="Narci_DetailedAttributeTemplateLeft" name="ADMovementSpeed" parentKey="MovementSpeed" id="12" hidden="false" parent="Narci_DetailedStatFrame">
				<Anchors>
					<Anchor point="TOP" relativeKey="$parent.Leech" relativePoint="BOTTOM"  x="0" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="BORDER">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Border"  hidden="true">
							<TexCoords left="0" right="0.87890625" top="1" bottom="0.94921875"/>
							<Size x="160" y="9"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="BOTTOM" x="0" y="-2"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="ARTWORK">
						<Texture inherits="RectBottomLeftCorner"  hidden="true"/>
					</Layer>
				</Layers>
			</Frame>

			<Frame inherits="Narci_DetailedAttributeTemplateRight" name="ADSpeed" parentKey="Speed" id="12" hidden="false" parent="Narci_DetailedStatFrame">
				<Anchors>
					<Anchor point="TOP" relativeKey="$parent.Avoidance" relativePoint="BOTTOM"  x="0" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="BORDER">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\RadarChart\Radar-Border"  hidden="true">
							<TexCoords left="0.87890625" right="0" top="1" bottom="0.94921875"/>
							<Size x="160" y="9"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="BOTTOM" x="0" y="-2"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="ARTWORK">
						<Texture inherits="RectBottomRightCorner"  hidden="true"/>
					</Layer>
				</Layers>	
			</Frame>

			<Frame name="Narci_ConciseStatFrame" setAllPoints="true" hidden="true" Alpha="0">
				<Frames>
					<Frame inherits="Narci_AttributeTemplate" name="ACPrimary" parentKey="Primary" id="1" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeTo="ADPrimary" relativePoint="TOPRIGHT"  x="0" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_AttributeTemplate" name="ACStamina" parentKey="Stamina" id="2" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Primary" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_AttributeTemplate" name="ACHealth" parentKey="Health" id="3" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Stamina" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_AttributeTemplate" name="ACEnergy" parentKey="Energy" id="4" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Health" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_AttributeTemplate" name="ACRegen" parentKey="Regen" id="5" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Energy" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>

					<Frame inherits="Narci_AttributeTemplate" name="ACCrit" parentKey="Crit" id="7" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Regen" relativePoint="BOTTOM"  x="0" y="-26"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_AttributeTemplate" name="ACHaste" parentKey="Haste" id="8" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Crit" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_AttributeTemplate" name="ACMastery" parentKey="Mastery" id="9" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Haste" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_AttributeTemplate" name="ACVersatility" parentKey="Versatility" id="10" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Mastery" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>

					<Frame inherits="Narci_AttributeTemplate" name="ACLeech" parentKey="Leech" id="11" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Versatility" relativePoint="BOTTOM"  x="0" y="-26"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_AttributeTemplate" name="ACAvoidance" parentKey="Avoidance" id="12" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Leech" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>
					<Frame inherits="Narci_AttributeTemplate" name="ACSpeed" parentKey="Speed" id="13" hidden="false">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.Avoidance" relativePoint="BOTTOM"  x="0" y="0"/>
						</Anchors>
					</Frame>
				</Frames>
			</Frame>

			<Button parentKey="ScrollButton">
				<Size>
					<AbsDimension x="46" y="46"/>
				</Size>
				<Anchors>
					<Anchor point="CENTER" x="0"/>
					<Anchor point="BOTTOM" relativeTo="Narci_Finger0Slot" relativePoint="CENTER" y="-300"/>
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<Texture parentKey="Arrow" file="Interface\AddOns\Narcissus\Art\Widgets\Arrows\DownArrow-Obtuse"> 
							<TexCoords left="0" right="0.5" top="0" bottom="1"/>
							<Size x="36" y="36" />
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad function="PlaceHolderFeature_OnLoad"/>
					<OnEnter>
						self.Arrow:SetTexCoord(0.5, 1, 0, 1);
						Narci_ShowButtonTooltip(self);
					</OnEnter>
					<OnLeave>
						self.Arrow:SetTexCoord(0, 0.5, 0, 1);
						Narci:HideButtonTooltip();
					</OnLeave>
					<OnClick>

					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Animations>
			<AnimationGroup parentKey="animOut">
				<Alpha parentKey="A1" fromAlpha="1" toAlpha="0" duration="0.4" order="1"/>
				<Scripts>
					<OnPlay>
						self.A1:SetFromAlpha(self:GetParent():GetAlpha());
					</OnPlay>
					<OnFinished>
						self:GetParent():Hide();
					</OnFinished>
				</Scripts>
			</AnimationGroup>
		</Animations>
		<Scripts>
			<OnHide>
				self.animOut:Stop();
			</OnHide>
		</Scripts>
	</Frame>

	<Texture name="GrainTile" file="Interface\AddOns\Narcissus\Art\Filters\Grain" horizTile="false" vertTile="false" virtual="true">
		<Size x="360" y="360"/>
	</Texture>

	<Frame name="Narci_Vignette" setAllPoints="true" hidden="true" Alpha="0" parentKey="Narci_Vignette" frameStrata="BACKGROUND" alphaMode="ADD">
		<Layers>
			<Layer level="OVERLAY">
				<Texture name="VignetteRightLarge" parentKey="VignetteRight" file="Interface\AddOns\Narcissus\Art\Vignetting\Vignetting-Right"><!--182-->
					<!--TexCoords left="0" right="1" top="0" bottom="0.75"/-->
					<Animations>
						<AnimationGroup parentKey="animIn" smoothing="OUT">
							<Translation parentKey="Translation" offsetX="100" duration="0" order="0"/>
							<Translation parentKey="Translation" offsetX="-100" duration="0.8" order="1"/>
							<Scripts>
								<OnPlay>
									self:GetParent():Show();
									Narci_Character:SetAlpha(0);
								</OnPlay>
							</Scripts>
						</AnimationGroup>
					</Animations>
				</Texture>

				<Texture name="VignetteRightSmall" parentKey="VignetteRightSmall" file="Interface\AddOns\Narcissus\Art\Vignetting\Vignetting-Left" Alpha="0" hidden="true">
					<TexCoords left="1" right="0" top="0" bottom="1"/>
					<Animations>
						<AnimationGroup parentKey="animIn" smoothing="OUT">
							<Translation parentKey="Translation" offsetX="100" duration="0" order="0"/>
							<Translation parentKey="Translation" offsetX="-100" duration="0.8" order="1"/>
							<Scripts>
								<OnPlay>
									self:GetParent():Show()
								</OnPlay>
								<OnFinished>

								</OnFinished>
							</Scripts>
						</AnimationGroup>
					</Animations>
				</Texture>

				<Texture name="Narci_VignetteLeft" parentKey="VignetteLeft" file="Interface\AddOns\Narcissus\Art\Vignetting\Vignetting-Left" Alpha="0.8">
					<Animations>
						<AnimationGroup parentKey="animIn" smoothing="OUT">
							<Translation parentKey="Translation" offsetX="-100" duration="0" order="0"/>
							<Translation parentKey="Translation" offsetX="100" duration="0.8" order="1"/>
							<Scripts>
								<OnPlay>
									--self:GetParent():GetParent().VignetteRightSmall.animIn:Play()
									self:GetParent():Show()
								</OnPlay>
								<OnFinished>

								</OnFinished>
							</Scripts>
						</AnimationGroup>
					</Animations>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Frame name="FullScreenFilterGrain" parentKey="Grain" setAllPoints="true" Alpha="0.8" hidden="true"> 
				<Anchors>
					<Anchor point="CENTER"/>
				</Anchors>
				<Size x="400" y="400"/>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture inherits="GrainTile" parentKey="C0">
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T1">
							<Anchors>
								<Anchor point="BOTTOM" relativeKey="$parent.C0" relativePoint="TOP"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T11">
							<Anchors>
								<Anchor point="BOTTOM" relativeKey="$parent.T1" relativePoint="TOP"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T11L1">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.T11" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T11L2">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.T11L1" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T11R1">
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.T11" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T11R2">
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.T11R1" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T2">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.T1" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T3">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.T2" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T31">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.T3" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T4">
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.T1" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T5">
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.T4" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="B1">
							<Anchors>
								<Anchor point="TOP" relativeKey="$parent.C0" relativePoint="BOTTOM"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="B2">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.B1" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="B3">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.B2" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="B31">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.B3" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="B4">
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.B1" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="B5">
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.B4" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="L1">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.C0" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="L2">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.L1" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="L21">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.L2" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="R1">
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.C0" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="R2">
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.R1" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Animations>
					<AnimationGroup parentKey="animIn" looping="REPEAT">
						<Translation parentKey="Translation" offsetY="-180" offsetX="-360" duration="36" order="0"/>
						<Scripts>
							<OnPlay>

							</OnPlay>
							<OnFinished>

							</OnFinished>
						</Scripts>
					</AnimationGroup>
				</Animations>
				<Scripts>
					<OnShow>
						self.animIn:Play();
					</OnShow>
				</Scripts>
			</Frame>
			<Frame name="FullScreenFilterGrain2" parentKey="Grain2" setAllPoints="true" Alpha="0.8" hidden="true"> 
				<Anchors>
					<Anchor point="CENTER"/>
				</Anchors>
				<Size x="400" y="400"/>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture inherits="GrainTile" parentKey="C0">
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T1">
							<Anchors>
								<Anchor point="BOTTOM" relativeKey="$parent.C0" relativePoint="TOP"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T11">
							<Anchors>
								<Anchor point="BOTTOM" relativeKey="$parent.T1" relativePoint="TOP"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T11L1">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.T11" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T11L2">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.T11L1" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T11R1">
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.T11" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T11R2">
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.T11R1" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T2">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.T1" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T3">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.T2" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T31">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.T3" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T4">
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.T1" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="T5">
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.T4" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="B1">
							<Anchors>
								<Anchor point="TOP" relativeKey="$parent.C0" relativePoint="BOTTOM"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="B2">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.B1" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="B3">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.B2" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="B31" hidden="true">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.B3" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="B4">
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.B1" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="B5">
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.B4" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="L1">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.C0" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="L2">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.L1" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="L21">
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent.L2" relativePoint="LEFT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="R1">
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.C0" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
						<Texture inherits="GrainTile" parentKey="R2">
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.R1" relativePoint="RIGHT"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Animations>
					<AnimationGroup parentKey="animIn" looping="REPEAT">
						<Translation parentKey="Translation" offsetY="-180" offsetX="360" duration="36" order="0"/>
						<Scripts>
							<OnPlay>

							</OnPlay>
							<OnFinished>

							</OnFinished>
						</Scripts>
					</AnimationGroup>
				</Animations>
				<Scripts>
					<OnShow>
						self.animIn:Play();
					</OnShow>
				</Scripts>
			</Frame>
			<Frame name="FullScreenFilterGrainMask1" setAllPoints="true">
				<Layers>
					<Layer level="OVERLAY">
						<MaskTexture parentKey="GrainMask" file="Interface\AddOns\Narcissus\Art\Vignetting\Linear-Left" hWrapMode="CLAMPTOBLACKADDITIVE" vWrapMode="CLAMPTOBLACKADDITIVE">
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="UIParent" relativePoint="TOPLEFT"/>
							<Anchor point="BOTTOMRIGHT" relativeTo="UIParent" relativePoint="BOTTOMRIGHT"/>
						</Anchors>
							<MaskedTextures>
								<MaskedTexture childKey="$parent.Grain.C0"/>
								<MaskedTexture childKey="$parent.Grain.T1"/>
								<MaskedTexture childKey="$parent.Grain.T11"/>
								<MaskedTexture childKey="$parent.Grain.T11L1"/>
								<MaskedTexture childKey="$parent.Grain.T11L2"/>
								<MaskedTexture childKey="$parent.Grain.T11R1"/>
								<MaskedTexture childKey="$parent.Grain.T11R2"/>
								<MaskedTexture childKey="$parent.Grain.T2"/>
								<MaskedTexture childKey="$parent.Grain.T3"/>
								<MaskedTexture childKey="$parent.Grain.T31"/>
								<MaskedTexture childKey="$parent.Grain.T4"/>
								<MaskedTexture childKey="$parent.Grain.T5"/>
								<MaskedTexture childKey="$parent.Grain.B1"/>
								<MaskedTexture childKey="$parent.Grain.B2"/>
								<MaskedTexture childKey="$parent.Grain.B3"/>
								<MaskedTexture childKey="$parent.Grain.B4"/>
								<MaskedTexture childKey="$parent.Grain.B5"/>
								<MaskedTexture childKey="$parent.Grain.T5"/>
								<MaskedTexture childKey="$parent.Grain.L1"/>
								<MaskedTexture childKey="$parent.Grain.L2"/>
								<MaskedTexture childKey="$parent.Grain.L21"/>
								<MaskedTexture childKey="$parent.Grain.R1"/>
								<MaskedTexture childKey="$parent.Grain.R2"/>
							</MaskedTextures>
						</MaskTexture>
					</Layer>
				</Layers>
			</Frame>
			<Frame name="FullScreenFilterGrainMask2" setAllPoints="true">
				<Layers>
					<Layer level="OVERLAY">
						<MaskTexture parentKey="GrainMask" file="Interface\AddOns\Narcissus\Art\Vignetting\Linear-Right" hWrapMode="CLAMPTOBLACKADDITIVE" vWrapMode="CLAMPTOBLACKADDITIVE">
						<Anchors>
							<Anchor point="TOPLEFT" relativeTo="UIParent" relativePoint="TOPLEFT"/>
							<Anchor point="BOTTOMRIGHT" relativeTo="UIParent" relativePoint="BOTTOMRIGHT"/>
						</Anchors>
							<MaskedTextures>
								<MaskedTexture childKey="$parent.Grain2.C0"/>
								<MaskedTexture childKey="$parent.Grain2.T1"/>
								<MaskedTexture childKey="$parent.Grain2.T11"/>
								<MaskedTexture childKey="$parent.Grain2.T11L1"/>
								<MaskedTexture childKey="$parent.Grain2.T11L2"/>
								<MaskedTexture childKey="$parent.Grain2.T11R1"/>
								<MaskedTexture childKey="$parent.Grain2.T11R2"/>
								<MaskedTexture childKey="$parent.Grain2.T2"/>
								<MaskedTexture childKey="$parent.Grain2.T3"/>
								<MaskedTexture childKey="$parent.Grain2.T31"/>
								<MaskedTexture childKey="$parent.Grain2.T4"/>
								<MaskedTexture childKey="$parent.Grain2.T5"/>
								<MaskedTexture childKey="$parent.Grain2.B1"/>
								<MaskedTexture childKey="$parent.Grain2.B2"/>
								<MaskedTexture childKey="$parent.Grain2.B3"/>
								<MaskedTexture childKey="$parent.Grain2.B4"/>
								<MaskedTexture childKey="$parent.Grain2.B5"/>
								<MaskedTexture childKey="$parent.Grain2.T5"/>
								<MaskedTexture childKey="$parent.Grain2.L1"/>
								<MaskedTexture childKey="$parent.Grain2.L2"/>
								<MaskedTexture childKey="$parent.Grain2.L21"/>
								<MaskedTexture childKey="$parent.Grain2.R1"/>
								<MaskedTexture childKey="$parent.Grain2.R2"/>
							</MaskedTextures>
						</MaskTexture>
					</Layer>
				</Layers>
			</Frame>
		</Frames>
		<Scripts>
			<OnHide>
				self.VignetteRight.animIn:Play();
			</OnHide>
		</Scripts>
	</Frame>

	<Button name="NarciMinimapPanelButtonTemplate" virtual="true" motionScriptsWhileDisabled="true">
		<Size x="128" y="24"/>
		<Layers>
			<Layer level="OVERLAY">
				<FontString inherits="NarciTooltipHeaderFont" parentKey="BlackText">
					<Color r="0" g="0" b="0"/>
					<Size x="112" y="24"/>
					<Anchors>
						<Anchor point="CENTER"/>
					</Anchors>
				</FontString>
				<FontString inherits="NarciTooltipHeaderFont" parentKey="WhiteText">
					<Color r="0.8" g="0.8" b="0.8"/>
					<Size x="112" y="24"/>
					<Anchors>
						<Anchor point="CENTER"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnDisable>
				self:SetAlpha(0.5);
			</OnDisable>
		</Scripts>
	</Button>

	<Frame name="Narci_MinimapButtonContainer" parent="UIParent" frameStrata="HIGH">
		<Size x="8" y="8"/>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<Scripts>
			<OnLoad>
				Minimap:HookScript("OnHide", function() self:Hide() end);
				Minimap:HookScript("OnShow", function() self:Show() end);
			</OnLoad>
		</Scripts>
	</Frame>

    <Button name="Narci_MinimapButton" parent="Narci_MinimapButtonContainer" enableMouse="true" movable="true" hidden="true" frameStrata="HIGH" frameLevel="62" ignoreParentAlpha="false" clampedToScreen="true" motionScriptsWhileDisabled="false" useParentLevel="false" mixin="NarciMinimapButtonMixin">
		<Size>
			<AbsDimension x="36" y="36"/>
		</Size>
		<Anchors>
			<Anchor point="CENTER" relativeTo="Minimap" relativePoint="BOTTOM"/>
		</Anchors>
		<HitRectInsets>
			<AbsInset left="6" right="6" top="5" bottom="5"/>
		</HitRectInsets>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture file="Interface\AddOns\Narcissus\Art\Modules\PhotoMode\SpeechBalloon\ControlNode" parentKey="Bling" hidden="true" Alpha="0">
					<TexCoords left="0" right="0.5" top="0.5" bottom="1"/>
					<Size x="36" y="36"/>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
					</Anchors>
					<Animations>
						<AnimationGroup parentKey="animScale">
							<Scale scaleX="1" scaleY="1" duration="0" order="1"/>
							<Alpha fromAlpha="0" toAlpha="0" duration="0" order="1"/>
							<Scale scaleX="2.4" scaleY="2.4" duration="0.6" order="2" smoothing="OUT"/>
							<Alpha fromAlpha="1" toAlpha="0" duration="0.6" order="2"/>
							<Scripts>
								<OnFinished>
									self:GetParent():Hide();
								</OnFinished>
							</Scripts>				
						</AnimationGroup>
					</Animations>
				</Texture>
			</Layer>
			<Layer level="ARTWORK">
				<Texture file="Interface\AddOns\Narcissus\Art\Minimap\LOGO-Large" parentKey="Background" hidden="false">
					<TexCoords left="0" right="0.5" top="0" bottom="1"/>
					<Size>
						<AbsDimension x="42" y="42"/>	<!--86 for AzUI-->
					</Size>
					<Anchors>
						<Anchor point="CENTER">
							<Offset>
								<AbsDimension x="0" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<Texture parentKey="Color" file="Interface\AddOns\Narcissus\Art\Minimap\LOGO-Large" hidden="true" Alpha="0">
					<TexCoords left="0.5" right="1" top="0" bottom="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.Background" relativePoint="TOPLEFT"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Background" relativePoint="BOTTOMRIGHT"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Frame parentKey="TooltipFrame" hidden="true" ignoreParentScale="true" useParentLevel="true" clampedToScreen="true" frameStrata="TOOLTIP">
				<Size x="32" y="16"/>
				<Layers>
					<Layer level="BACKGROUND" textureSubLevel="-2">
						<Texture file="Interface\AddOns\Narcissus\Art\Modules\PhotoMode\SpeechBalloon\SquareOutline2px" parentKey="Left">
							<TexCoords left="0" right="0.25" top="0" bottom="1"/>
							<Size x="4" y="16"/>
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="-0"/>
							</Anchors>
						</Texture>
						<Texture file="Interface\AddOns\Narcissus\Art\Modules\PhotoMode\SpeechBalloon\SquareOutline2px" parentKey="Right">
							<TexCoords left="0.75" right="1" top="0" bottom="1"/>
							<Size x="4" y="16"/>
							<Anchors>
								<Anchor point="RIGHT" relativeKey="$parent" relativePoint="RIGHT" x="0"/>
							</Anchors>
						</Texture>
						<Texture file="Interface\AddOns\Narcissus\Art\Modules\PhotoMode\SpeechBalloon\SquareOutline2px" parentKey="Middle">
							<Size y="16"/>
							<TexCoords left="0.25" right="0.75" top="0" bottom="1"/>
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.Left" relativePoint="RIGHT" x="-0"/>
								<Anchor point="RIGHT" relativeKey="$parent.Right" relativePoint="LEFT" x="0"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="BACKGROUND" textureSubLevel="-1">
						<FontString inherits="NarciTooltipDescriptionFontSmall" justifyH="CENTER" justifyV="MIDDLE" parentKey="Description">
							<Color r="0" g="0" b="0"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="-1"/>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			<Frame parentKey="DraggingFrame" hidden="true">
				<Scripts>
					<OnUpdate function="Narci_MinimapButton_DraggingFrame_OnUpdate"/>
					<OnHide>
						if not self:GetParent():IsMouseOver() then
							UIFrameFadeOut(self:GetParent().Color, 0.2, self:GetParent().Color:GetAlpha(), 0);
							UIFrameFadeOut(self:GetParent(), 0.2, self:GetParent():GetAlpha(), self:GetParent().EndAlpha);
						end
					</OnHide>
				</Scripts>
			</Frame>
			<Frame parentKey="Panel" hidden="true" Alpha="0">
				<Size x="128" y="180"/>
				<Anchors>
					<Anchor point="TOP" relativeKey="$parent" relativePoint="CENTER" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture nounload="true" parentKey="Top">
							<Size x="256" y="96"/>
							<Anchors>
								<Anchor point="TOP" relativeKey="$parent" relativePoint="TOP" y="54"/>
							</Anchors>
							<TexCoords left="0" right="0.5" top="0" bottom="0.375"/>
						</Texture>
						<Texture nounload="true" parentKey="Middle">
							<Size x="256" y="48"/>
							<Anchors>
								<Anchor point="TOP" relativeKey="$parent.Top" relativePoint="BOTTOM"/>
							</Anchors>
							<TexCoords left="0" right="0.5" top="0.75" bottom="1"/>
						</Texture>
						<Texture nounload="true" parentKey="Bottom">
							<Size x="256" y="96"/>
							<Anchors>
								<Anchor point="TOP" relativeKey="$parent.Middle" relativePoint="BOTTOM"/>
							</Anchors>
							<TexCoords left="0.5" right="1" top="0" bottom="0.375"/>
						</Texture>
					</Layer>
					<Layer level="OVERLAY">
						<FontString inherits="NarciDisabledFont" justifyH="CENTER" justifyV="MIDDLE" parentKey="Version" text="NARCI_VERSION_INFO">
							<Color r="0.5" g="0.5" b="0.5"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent.Bottom" relativePoint="TOP" y="-40"/>
							</Anchors>
						</FontString>
						<!--Texture parentKey="Area">
							<Color r="1" g="0" b="0" a="0.5"/>
						</Texture-->
					</Layer>
				</Layers>
				<Frames>
					<Frame parentKey="ClipFrame" clipChildren="true" hidden="true" Alpha="0">
						<Size x="128" y="24"/>
						<Layers>
							<Layer>
								<Texture parentKey="Highlight">
									<TexCoords left="0" right="0.25" top="0.5" bottom="0.59375"/>
								</Texture>
								<Texture parentKey="PushedHighlight" hidden="true">
									<TexCoords left="0.25" right="0.5" top="0.5" bottom="0.59375"/>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnHide>
								self:SetAlpha(0);
							</OnHide>
						</Scripts>
					</Frame>
				</Frames>
				<Scripts>
					<OnLoad>
						self:SetFrameLevel(self:GetParent():GetFrameLevel() - 1);
						local tex = "Interface/AddOns/Narcissus/Art/Minimap/Panel";
						local sampling = "TRILINEAR";
						self.Top:SetTexture(tex, nil, nil, sampling);
						self.Middle:SetTexture(tex, nil, nil, sampling);
						self.Bottom:SetTexture(tex, nil, nil, sampling);
					</OnLoad>
					<OnHide>
						self:SetAlpha(0);
					</OnHide>
				</Scripts>
			</Frame>
		</Frames>
		<Scripts>
			<OnLoad method="OnLoad"/>
			<OnDragStart method="OnDragStart"/>
			<OnDragStop method="OnDragStop"/>
			<OnClick method="OnClick"/>
			<OnMouseDown method="OnMouseDown"/>
			<PostClick method="PostClick"/>
			<OnEnter method="OnEnter"/>
			<OnLeave method="OnLeave"/>
			<OnHide method="OnHide"/>
			<OnEvent method="OnEvent"/>
		</Scripts>
	</Button>

	<Frame parentKey="DoubleClickTrigger" parent="PaperDollFrame">
		<Scripts>
			<OnLoad>
				self.TimeSinceLastUpdate = 0;
			</OnLoad>
			<OnShow function="Narci_DoubleClickTrigger_OnShow"/>
			<OnHide function="Narci_DouleClickTrigger_OnHide"/>
		</Scripts>		
	</Frame>
	
	<Frame parentKey="VisibilityTracker" parent="WorldMapFrame">
		<Scripts>
			<OnLoad>
				self.state = false;
			</OnLoad>
			<OnShow>
				self.state = true;
			</OnShow>
			<OnHide>
				C_Timer.After(0.1, function()
					self.state = false;
				end)
			</OnHide>
		</Scripts>
	</Frame>

	<GameTooltip name="NarciCacheTooltip" inherits="GameTooltipTemplate" parent="UIParent" enableMouse="false" toplevel="false" movable="false" frameStrata="LOW" scale="0.001" hidden="true" Alpha="0">
		<Size>
			<AbsDimension x="10" y="10"/>
		</Size>
		<Anchors>
			<Anchor point="BOTTOM"/>
		</Anchors>
		<Scripts>
			<OnLoad function="GameTooltip_OnLoad"/>
		</Scripts>
	</GameTooltip>


	<ModelScene name="TestScene" inherits="NonInteractableModelSceneMixinTemplate" hidden="true" alpha="1" movable="false">
		<Size x="400" y="400"/>
		<Anchors>
			<Anchor point="CENTER"/>
		</Anchors>
		<Scripts>
			<!--OnUpdate method="OnUpdate"/-->
			<OnLoad>
				self:OnLoad();
				self:RegisterForDrag("LeftButton");
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
		</Scripts>
	</ModelScene>

	<!--Frame name="VisualCenterGuideLine" hidden="false" setAllPoints="true">
		<Anchors>
			<Anchor point="TOPLEFT" relativeTo="Narci_ChestSlot" relativePoint="TOP" x="0" y="0"/>
			<Anchor point="BOTTOMRIGHT" relativeTo="Narci_Finger0Slot" relativePoint="BOTTOM" x="0" y="0"/>
		</Anchors>
		<Layers>
			<Layer>
				<Texture setAllPoints="true">
					<Size x="0.6" y="2000" />
					<Color r="1" g="1" b="1" a="0.0"/>
					<Anchors>
						<Anchor point="CENTER" x="0" y="0"/>
					</Anchors>
				</Texture>
				<FontString parentKey="Readings" justifyH="CENTER" justifyV="TOP" text="Readings" inherits="NarciFontMedium12">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="TOP" relativeKey="$parent" relativePoint="TOP" x="0" y="20"/>
					</Anchors>
				</FontString>	
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self.last = 0;
				self.t = 1;
			</OnLoad>
			<OnUpdate>
				self.last = self.last + elapsed
				if self.last >= self.t then
					local Zoom = GetCameraZoom();
					local shoulder = GetCVar("test_cameraOverShoulder");
					self.Readings:SetText(Zoom.."\n"..shoulder);
					self.last = 0;
				end
			</OnUpdate>
		</Scripts>
	</Frame-->
	
</Ui>